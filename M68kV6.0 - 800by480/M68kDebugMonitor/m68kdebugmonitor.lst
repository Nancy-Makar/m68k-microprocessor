680x0 MACRO ASSEMBLER   Version 5.00   (c) 1992-2005 Peter J. Fondse

Date: 21 Jan 2023      Time: 20:07:10          Source: C:\CPEN412\LAB1\M68KV6.0 - 800BY480\M68KDEBUGMONITOR\M68KDEBUGMONITOR.SRC

                       1          section   code
                       2   **********************************************************************************************************
                       3   * CSTART.ASM  -  C startup-code
                       4   *
                       5   *          Initialises the system prior to running the users main() program
                       6   *
                       7   *          1) Sets up the user program stack pointer
                       8   *          2) Switches to User mode in the 68000
                       9   *          3) Enables All Interrupts 1-7 on 68000
                      10   *          4) Copies all initialised C program variables from Rom to Ram prior to running main()
                      11   *
                      12   **********************************************************************************************************
00000000              13                   align
                      14   
                      15   
                      16   **********************************************************************************************************
                      17   * The Following ORG Statement marks the address of the start of the this CStart Program
                      18   *
                      19   * The debug Monitor and Flash Load and Program routines assume your program lives here
                      20   **********************************************************************************************************
08000000              21                   org       $08000000
08000000  46FC 2000   22   start:          move.w    #$2000,SR             clear interrupts to enable all, move to supervisor mode
                      23   
                      24   ******************************************************************************************
                      25   * Set unitialised global variables to 0 at startup
                      26   ******************************************************************************************
08000004  207C 0800   27   mainloop        movea.l   #BssStart,a0          point a0 to the start of the initialised data section held in ROM
08000008  1A34      
0800000A  203C 0000   28                   move.l    #BssLength,d0         figure out how many bytes of C program variables data to copy
0800000E  006C      
08000010  6700 0024   29                   beq       go_main               if no data to copy go straight to program
08000014  10FC 0000   30   Zeroinit        move.b    #0,(a0)+              copy the C program initialise variables from rom to ram
08000018  5380        31                   subq.l    #1,d0
0800001A  66F8        32                   bne       Zeroinit
                      33   
                      34   *******************************************************************************************
                      35   * last minute initialisation before calling main
                      36   *******************************************************************************************
                      37   
0800001C  23FC FFFF   38                   move.l    #-1,__ungetbuf         required for use of scanf() etc in C programs
08000020  FFFF 0800 
08000024  1914      
08000026  42B9 0800   39                   clr.l     __allocp               used by malloc() in C
0800002A  1918      
0800002C  23FC 0800   40                   move.l    #heap,__heap           pointer to free memory
08000030  1AA0 0800 
08000034  191C      
08000036  4EB9 0800   41   go_main         jsr       _main
0800003A  0288      
0800003C  60C2        42                   bra       start
                      43   
                      44   ; C:\CPEN412\LAB1\M68KV6.0 - 800BY480\PROGRAMS\DEBUGMONITORCODE\M68KUSERPROGRAM (DE1).C - Compiled by CC68K  Version 5.00 (c) 1991-2005  Peter J. Fondse
                      45   ; #include <stdio.h>
                      46   ; #include <string.h>
                      47   ; #include <ctype.h>
                      48   ; //IMPORTANT
                      49   ; //
                      50   ; // Uncomment one of the two #defines below
                      51   ; // Define StartOfExceptionVectorTable as 08030000 if running programs from sram or
                      52   ; // 0B000000 for running programs from dram
                      53   ; //
                      54   ; // In your labs, you will initially start by designing a system with SRam and later move to
                      55   ; // Dram, so these constants will need to be changed based on the version of the system you have
                      56   ; // building
                      57   ; //
                      58   ; // The working 68k system SOF file posted on canvas that you can use for your pre-lab
                      59   ; // is based around Dram so #define accordingly before building
                      60   ; #define StartOfExceptionVectorTable 0x08030000
                      61   ; //#define StartOfExceptionVectorTable 0x0B000000
                      62   ; /**********************************************************************************************
                      63   ; **	Parallel port addresses
                      64   ; **********************************************************************************************/
                      65   ; #define PortA   *(volatile unsigned char *)(0x00400000)
                      66   ; #define PortB   *(volatile unsigned char *)(0x00400002)
                      67   ; #define PortC   *(volatile unsigned char *)(0x00400004)
                      68   ; #define PortD   *(volatile unsigned char *)(0x00400006)
                      69   ; #define PortE   *(volatile unsigned char *)(0x00400008)
                      70   ; /*********************************************************************************************
                      71   ; **	Hex 7 seg displays port addresses
                      72   ; *********************************************************************************************/
                      73   ; #define HEX_A        *(volatile unsigned char *)(0x00400010)
                      74   ; #define HEX_B        *(volatile unsigned char *)(0x00400012)
                      75   ; #define HEX_C        *(volatile unsigned char *)(0x00400014)    // de2 only
                      76   ; #define HEX_D        *(volatile unsigned char *)(0x00400016)    // de2 only
                      77   ; /**********************************************************************************************
                      78   ; **	LCD display port addresses
                      79   ; **********************************************************************************************/
                      80   ; #define LCDcommand   *(volatile unsigned char *)(0x00400020)
                      81   ; #define LCDdata      *(volatile unsigned char *)(0x00400022)
                      82   ; /********************************************************************************************
                      83   ; **	Timer Port addresses
                      84   ; *********************************************************************************************/
                      85   ; #define Timer1Data      *(volatile unsigned char *)(0x00400030)
                      86   ; #define Timer1Control   *(volatile unsigned char *)(0x00400032)
                      87   ; #define Timer1Status    *(volatile unsigned char *)(0x00400032)
                      88   ; #define Timer2Data      *(volatile unsigned char *)(0x00400034)
                      89   ; #define Timer2Control   *(volatile unsigned char *)(0x00400036)
                      90   ; #define Timer2Status    *(volatile unsigned char *)(0x00400036)
                      91   ; #define Timer3Data      *(volatile unsigned char *)(0x00400038)
                      92   ; #define Timer3Control   *(volatile unsigned char *)(0x0040003A)
                      93   ; #define Timer3Status    *(volatile unsigned char *)(0x0040003A)
                      94   ; #define Timer4Data      *(volatile unsigned char *)(0x0040003C)
                      95   ; #define Timer4Control   *(volatile unsigned char *)(0x0040003E)
                      96   ; #define Timer4Status    *(volatile unsigned char *)(0x0040003E)
                      97   ; /*********************************************************************************************
                      98   ; **	RS232 port addresses
                      99   ; *********************************************************************************************/
                     100   ; #define RS232_Control     *(volatile unsigned char *)(0x00400040)
                     101   ; #define RS232_Status      *(volatile unsigned char *)(0x00400040)
                     102   ; #define RS232_TxData      *(volatile unsigned char *)(0x00400042)
                     103   ; #define RS232_RxData      *(volatile unsigned char *)(0x00400042)
                     104   ; #define RS232_Baud        *(volatile unsigned char *)(0x00400044)
                     105   ; /*********************************************************************************************
                     106   ; **	PIA 1 and 2 port addresses
                     107   ; *********************************************************************************************/
                     108   ; #define PIA1_PortA_Data     *(volatile unsigned char *)(0x00400050)         // combined data and data direction register share same address
                     109   ; #define PIA1_PortA_Control *(volatile unsigned char *)(0x00400052)
                     110   ; #define PIA1_PortB_Data     *(volatile unsigned char *)(0x00400054)         // combined data and data direction register share same address
                     111   ; #define PIA1_PortB_Control *(volatile unsigned char *)(0x00400056)
                     112   ; #define PIA2_PortA_Data     *(volatile unsigned char *)(0x00400060)         // combined data and data direction register share same address
                     113   ; #define PIA2_PortA_Control *(volatile unsigned char *)(0x00400062)
                     114   ; #define PIA2_PortB_data     *(volatile unsigned char *)(0x00400064)         // combined data and data direction register share same address
                     115   ; #define PIA2_PortB_Control *(volatile unsigned char *)(0x00400066)
                     116   ; /*********************************************************************************************************************************
                     117   ; (( DO NOT initialise global variables here, do it main even if you want 0
                     118   ; (( it's a limitation of the compiler
                     119   ; (( YOU HAVE BEEN WARNED
                     120   ; *********************************************************************************************************************************/
                     121   ; unsigned int i, x, y, z, PortA_Count;
                     122   ; unsigned char Timer1Count, Timer2Count, Timer3Count, Timer4Count ;
                     123   ; /*******************************************************************************************
                     124   ; ** Function Prototypes
                     125   ; *******************************************************************************************/
                     126   ; void Wait1ms(void);
                     127   ; void Wait3ms(void);
                     128   ; void Init_LCD(void) ;
                     129   ; void LCDOutchar(int c);
                     130   ; void LCDOutMess(char *theMessage);
                     131   ; void LCDClearln(void);
                     132   ; void LCDline1Message(char *theMessage);
                     133   ; void LCDline2Message(char *theMessage);
                     134   ; int sprintf(char *out, const char *format, ...) ;
                     135   ; /*****************************************************************************************
                     136   ; **	Interrupt service routine for Timers
                     137   ; **
                     138   ; **  Timers 1 - 4 share a common IRQ on the CPU  so this function uses polling to figure
                     139   ; **  out which timer is producing the interrupt
                     140   ; **
                     141   ; *****************************************************************************************/
                     142   ; void Timer_ISR()
                     143   ; {
                     144   _Timer_ISR:
                     145   ; if(Timer1Status == 1) {         // Did Timer 1 produce the Interrupt?
0800003E  1039 0040  146          move.b    4194354,D0
08000042  0032      
08000044  0C00 0001  147          cmp.b     #1,D0
08000048  661A       148          bne.s     Timer_ISR_1
                     149   ; Timer1Control = 3;      	// reset the timer to clear the interrupt, enable interrupts and allow counter to run
0800004A  13FC 0003  150          move.b    #3,4194354
0800004E  0040 0032 
                     151   ; PortA = Timer1Count++ ;     // increment an LED count on PortA with each tick of Timer 1
08000052  1039 0800  152          move.b    _Timer1Count.L,D0
08000056  1A48      
08000058  5239 0800  153          addq.b    #1,_Timer1Count.L
0800005C  1A48      
0800005E  13C0 0040  154          move.b    D0,4194304
08000062  0000      
                     155   Timer_ISR_1:
                     156   ; }
                     157   ; if(Timer2Status == 1) {         // Did Timer 2 produce the Interrupt?
08000064  1039 0040  158          move.b    4194358,D0
08000068  0036      
0800006A  0C00 0001  159          cmp.b     #1,D0
0800006E  661A       160          bne.s     Timer_ISR_3
                     161   ; Timer2Control = 3;      	// reset the timer to clear the interrupt, enable interrupts and allow counter to run
08000070  13FC 0003  162          move.b    #3,4194358
08000074  0040 0036 
                     163   ; PortC = Timer2Count++ ;     // increment an LED count on PortC with each tick of Timer 2
08000078  1039 0800  164          move.b    _Timer2Count.L,D0
0800007C  1A4A      
0800007E  5239 0800  165          addq.b    #1,_Timer2Count.L
08000082  1A4A      
08000084  13C0 0040  166          move.b    D0,4194308
08000088  0004      
                     167   Timer_ISR_3:
                     168   ; }
                     169   ; if(Timer3Status == 1) {         // Did Timer 3 produce the Interrupt?
0800008A  1039 0040  170          move.b    4194362,D0
0800008E  003A      
08000090  0C00 0001  171          cmp.b     #1,D0
08000094  661A       172          bne.s     Timer_ISR_5
                     173   ; Timer3Control = 3;      	// reset the timer to clear the interrupt, enable interrupts and allow counter to run
08000096  13FC 0003  174          move.b    #3,4194362
0800009A  0040 003A 
                     175   ; HEX_A = Timer3Count++ ;     // increment a HEX count on Port HEX_A with each tick of Timer 3
0800009E  1039 0800  176          move.b    _Timer3Count.L,D0
080000A2  1A4C      
080000A4  5239 0800  177          addq.b    #1,_Timer3Count.L
080000A8  1A4C      
080000AA  13C0 0040  178          move.b    D0,4194320
080000AE  0010      
                     179   Timer_ISR_5:
                     180   ; }
                     181   ; if(Timer4Status == 1) {         // Did Timer 4 produce the Interrupt?
080000B0  1039 0040  182          move.b    4194366,D0
080000B4  003E      
080000B6  0C00 0001  183          cmp.b     #1,D0
080000BA  661A       184          bne.s     Timer_ISR_7
                     185   ; Timer4Control = 3;      	// reset the timer to clear the interrupt, enable interrupts and allow counter to run
080000BC  13FC 0003  186          move.b    #3,4194366
080000C0  0040 003E 
                     187   ; HEX_B = Timer4Count++ ;     // increment a HEX count on HEX_B with each tick of Timer 4
080000C4  1039 0800  188          move.b    _Timer4Count.L,D0
080000C8  1A4E      
080000CA  5239 0800  189          addq.b    #1,_Timer4Count.L
080000CE  1A4E      
080000D0  13C0 0040  190          move.b    D0,4194322
080000D4  0012      
                     191   Timer_ISR_7:
080000D6  4E75       192          rts
                     193   ; }
                     194   ; }
                     195   ; /*****************************************************************************************
                     196   ; **	Interrupt service routine for ACIA. This device has it's own dedicate IRQ level
                     197   ; **  Add your code here to poll Status register and clear interrupt
                     198   ; *****************************************************************************************/
                     199   ; void ACIA_ISR()
                     200   ; {}
                     201   _ACIA_ISR:
080000D8  4E75       202          rts
                     203   ; /***************************************************************************************
                     204   ; **	Interrupt service routine for PIAs 1 and 2. These devices share an IRQ level
                     205   ; **  Add your code here to poll Status register and clear interrupt
                     206   ; *****************************************************************************************/
                     207   ; void PIA_ISR()
                     208   ; {}
                     209   _PIA_ISR:
080000DA  4E75       210          rts
                     211   ; /***********************************************************************************
                     212   ; **	Interrupt service routine for Key 2 on DE1 board. Add your own response here
                     213   ; ************************************************************************************/
                     214   ; void Key2PressISR()
                     215   ; {}
                     216   _Key2PressISR:
080000DC  4E75       217          rts
                     218   ; /***********************************************************************************
                     219   ; **	Interrupt service routine for Key 1 on DE1 board. Add your own response here
                     220   ; ************************************************************************************/
                     221   ; void Key1PressISR()
                     222   ; {}
                     223   _Key1PressISR:
080000DE  4E75       224          rts
                     225   ; /************************************************************************************
                     226   ; **   Delay Subroutine to give the 68000 something useless to do to waste 1 mSec
                     227   ; ************************************************************************************/
                     228   ; void Wait1ms(void)
                     229   ; {
                     230   _Wait1ms:
080000E0  2F02       231          move.l    D2,-(A7)
                     232   ; int  i ;
                     233   ; for(i = 0; i < 1000; i ++)
080000E2  4282       234          clr.l     D2
                     235   Wait1ms_1:
080000E4  0C82 0000  236          cmp.l     #1000,D2
080000E8  03E8      
080000EA  6C04       237          bge.s     Wait1ms_3
080000EC  5282       238          addq.l    #1,D2
080000EE  60F4       239          bra       Wait1ms_1
                     240   Wait1ms_3:
080000F0  241F       241          move.l    (A7)+,D2
080000F2  4E75       242          rts
                     243   ; ;
                     244   ; }
                     245   ; /************************************************************************************
                     246   ; **  Subroutine to give the 68000 something useless to do to waste 3 mSec
                     247   ; **************************************************************************************/
                     248   ; void Wait3ms(void)
                     249   ; {
                     250   _Wait3ms:
080000F4  2F02       251          move.l    D2,-(A7)
                     252   ; int i ;
                     253   ; for(i = 0; i < 3; i++)
080000F6  4282       254          clr.l     D2
                     255   Wait3ms_1:
080000F8  0C82 0000  256          cmp.l     #3,D2
080000FC  0003      
080000FE  6C0A       257          bge.s     Wait3ms_3
                     258   ; Wait1ms() ;
08000100  4EB9 0800  259          jsr       _Wait1ms
08000104  00E0      
08000106  5282       260          addq.l    #1,D2
08000108  60EE       261          bra       Wait3ms_1
                     262   Wait3ms_3:
0800010A  241F       263          move.l    (A7)+,D2
0800010C  4E75       264          rts
                     265   ; }
                     266   ; /*********************************************************************************************
                     267   ; **  Subroutine to initialise the LCD display by writing some commands to the LCD internal registers
                     268   ; **  Sets it for parallel port and 2 line display mode (if I recall correctly)
                     269   ; *********************************************************************************************/
                     270   ; void Init_LCD(void)
                     271   ; {
                     272   _Init_LCD:
                     273   ; LCDcommand = 0x0c ;
0800010E  13FC 000C  274          move.b    #12,4194336
08000112  0040 0020 
                     275   ; Wait3ms() ;
08000116  4EB9 0800  276          jsr       _Wait3ms
0800011A  00F4      
                     277   ; LCDcommand = 0x38 ;
0800011C  13FC 0038  278          move.b    #56,4194336
08000120  0040 0020 
                     279   ; Wait3ms() ;
08000124  4EB9 0800  280          jsr       _Wait3ms
08000128  00F4      
0800012A  4E75       281          rts
                     282   ; }
                     283   ; /*********************************************************************************************
                     284   ; **  Subroutine to initialise the RS232 Port by writing some commands to the internal registers
                     285   ; *********************************************************************************************/
                     286   ; void Init_RS232(void)
                     287   ; {
                     288   _Init_RS232:
                     289   ; RS232_Control = 0x15 ; //  %00010101 set up 6850 uses divide by 16 clock, set RTS low, 8 bits no parity, 1 stop bit, transmitter interrupt disabled
0800012C  13FC 0015  290          move.b    #21,4194368
08000130  0040 0040 
                     291   ; RS232_Baud = 0x1 ;      // program baud rate generator 001 = 115k, 010 = 57.6k, 011 = 38.4k, 100 = 19.2, all others = 9600
08000134  13FC 0001  292          move.b    #1,4194372
08000138  0040 0044 
0800013C  4E75       293          rts
                     294   ; }
                     295   ; /*********************************************************************************************************
                     296   ; **  Subroutine to provide a low level output function to 6850 ACIA
                     297   ; **  This routine provides the basic functionality to output a single character to the serial Port
                     298   ; **  to allow the board to communicate with HyperTerminal Program
                     299   ; **
                     300   ; **  NOTE you do not call this function directly, instead you call the normal putchar() function
                     301   ; **  which in turn calls _putch() below). Other functions like puts(), printf() call putchar() so will
                     302   ; **  call _putch() also
                     303   ; *********************************************************************************************************/
                     304   ; int _putch( int c)
                     305   ; {
                     306   __putch:
0800013E  4E56 0000  307          link      A6,#0
                     308   ; while((RS232_Status & (char)(0x02)) != (char)(0x02))    // wait for Tx bit in status register or 6850 serial comms chip to be '1'
                     309   _putch_1:
08000142  1039 0040  310          move.b    4194368,D0
08000146  0040      
08000148  C03C 0002  311          and.b     #2,D0
0800014C  0C00 0002  312          cmp.b     #2,D0
08000150  6702       313          beq.s     _putch_3
08000152  60EE       314          bra       _putch_1
                     315   _putch_3:
                     316   ; ;
                     317   ; RS232_TxData = (c & (char)(0x7f));                      // write to the data register to output the character (mask off bit 8 to keep it 7 bit ASCII)
08000154  202E 0008  318          move.l    8(A6),D0
08000158  C0BC 0000  319          and.l     #127,D0
0800015C  007F      
0800015E  13C0 0040  320          move.b    D0,4194370
08000162  0042      
                     321   ; return c ;                                              // putchar() expects the character to be returned
08000164  202E 0008  322          move.l    8(A6),D0
08000168  4E5E       323          unlk      A6
0800016A  4E75       324          rts
                     325   ; }
                     326   ; /*********************************************************************************************************
                     327   ; **  Subroutine to provide a low level input function to 6850 ACIA
                     328   ; **  This routine provides the basic functionality to input a single character from the serial Port
                     329   ; **  to allow the board to communicate with HyperTerminal Program Keyboard (your PC)
                     330   ; **
                     331   ; **  NOTE you do not call this function directly, instead you call the normal getchar() function
                     332   ; **  which in turn calls _getch() below). Other functions like gets(), scanf() call getchar() so will
                     333   ; **  call _getch() also
                     334   ; *********************************************************************************************************/
                     335   ; int _getch( void )
                     336   ; {
                     337   __getch:
0800016C  4E56 FFFC  338          link      A6,#-4
                     339   ; char c ;
                     340   ; while((RS232_Status & (char)(0x01)) != (char)(0x01))    // wait for Rx bit in 6850 serial comms chip status register to be '1'
                     341   _getch_1:
08000170  1039 0040  342          move.b    4194368,D0
08000174  0040      
08000176  C03C 0001  343          and.b     #1,D0
0800017A  0C00 0001  344          cmp.b     #1,D0
0800017E  6702       345          beq.s     _getch_3
08000180  60EE       346          bra       _getch_1
                     347   _getch_3:
                     348   ; ;
                     349   ; return (RS232_RxData & (char)(0x7f));                   // read received character, mask off top bit and return as 7 bit ASCII character
08000182  1039 0040  350          move.b    4194370,D0
08000186  0042      
08000188  C0BC 0000  351          and.l     #255,D0
0800018C  00FF      
0800018E  C0BC 0000  352          and.l     #127,D0
08000192  007F      
08000194  4E5E       353          unlk      A6
08000196  4E75       354          rts
                     355   ; }
                     356   ; /******************************************************************************
                     357   ; **  Subroutine to output a single character to the 2 row LCD display
                     358   ; **  It is assumed the character is an ASCII code and it will be displayed at the
                     359   ; **  current cursor position
                     360   ; *******************************************************************************/
                     361   ; void LCDOutchar(int c)
                     362   ; {
                     363   _LCDOutchar:
08000198  4E56 0000  364          link      A6,#0
                     365   ; LCDdata = (char)(c);
0800019C  202E 0008  366          move.l    8(A6),D0
080001A0  13C0 0040  367          move.b    D0,4194338
080001A4  0022      
                     368   ; Wait1ms() ;
080001A6  4EB9 0800  369          jsr       _Wait1ms
080001AA  00E0      
080001AC  4E5E       370          unlk      A6
080001AE  4E75       371          rts
                     372   ; }
                     373   ; /**********************************************************************************
                     374   ; *subroutine to output a message at the current cursor position of the LCD display
                     375   ; ************************************************************************************/
                     376   ; void LCDOutMessage(char *theMessage)
                     377   ; {
                     378   _LCDOutMessage:
080001B0  4E56 FFFC  379          link      A6,#-4
                     380   ; char c ;
                     381   ; while((c = *theMessage++) != 0)     // output characters from the string until NULL
                     382   LCDOutMessage_1:
080001B4  206E 0008  383          move.l    8(A6),A0
080001B8  52AE 0008  384          addq.l    #1,8(A6)
080001BC  1D50 FFFF  385          move.b    (A0),-1(A6)
080001C0  1010       386          move.b    (A0),D0
080001C2  6714       387          beq.s     LCDOutMessage_3
                     388   ; LCDOutchar(c) ;
080001C4  122E FFFF  389          move.b    -1(A6),D1
080001C8  4881       390          ext.w     D1
080001CA  48C1       391          ext.l     D1
080001CC  2F01       392          move.l    D1,-(A7)
080001CE  4EB9 0800  393          jsr       _LCDOutchar
080001D2  0198      
080001D4  584F       394          addq.w    #4,A7
080001D6  60DC       395          bra       LCDOutMessage_1
                     396   LCDOutMessage_3:
080001D8  4E5E       397          unlk      A6
080001DA  4E75       398          rts
                     399   ; }
                     400   ; /******************************************************************************
                     401   ; *subroutine to clear the line by issuing 24 space characters
                     402   ; *******************************************************************************/
                     403   ; void LCDClearln(void)
                     404   ; {
                     405   _LCDClearln:
080001DC  2F02       406          move.l    D2,-(A7)
                     407   ; int i ;
                     408   ; for(i = 0; i < 24; i ++)
080001DE  4282       409          clr.l     D2
                     410   LCDClearln_1:
080001E0  0C82 0000  411          cmp.l     #24,D2
080001E4  0018      
080001E6  6C10       412          bge.s     LCDClearln_3
                     413   ; LCDOutchar(' ') ;       // write a space char to the LCD display
080001E8  4878 0020  414          pea       32
080001EC  4EB9 0800  415          jsr       _LCDOutchar
080001F0  0198      
080001F2  584F       416          addq.w    #4,A7
080001F4  5282       417          addq.l    #1,D2
080001F6  60E8       418          bra       LCDClearln_1
                     419   LCDClearln_3:
080001F8  241F       420          move.l    (A7)+,D2
080001FA  4E75       421          rts
                     422   ; }
                     423   ; /******************************************************************************
                     424   ; **  Subroutine to move the LCD cursor to the start of line 1 and clear that line
                     425   ; *******************************************************************************/
                     426   ; void LCDLine1Message(char *theMessage)
                     427   ; {
                     428   _LCDLine1Message:
080001FC  4E56 0000  429          link      A6,#0
                     430   ; LCDcommand = 0x80 ;
08000200  13FC 0080  431          move.b    #128,4194336
08000204  0040 0020 
                     432   ; Wait3ms();
08000208  4EB9 0800  433          jsr       _Wait3ms
0800020C  00F4      
                     434   ; LCDClearln() ;
0800020E  4EB9 0800  435          jsr       _LCDClearln
08000212  01DC      
                     436   ; LCDcommand = 0x80 ;
08000214  13FC 0080  437          move.b    #128,4194336
08000218  0040 0020 
                     438   ; Wait3ms() ;
0800021C  4EB9 0800  439          jsr       _Wait3ms
08000220  00F4      
                     440   ; LCDOutMessage(theMessage) ;
08000222  2F2E 0008  441          move.l    8(A6),-(A7)
08000226  4EB9 0800  442          jsr       _LCDOutMessage
0800022A  01B0      
0800022C  584F       443          addq.w    #4,A7
0800022E  4E5E       444          unlk      A6
08000230  4E75       445          rts
                     446   ; }
                     447   ; /******************************************************************************
                     448   ; **  Subroutine to move the LCD cursor to the start of line 2 and clear that line
                     449   ; *******************************************************************************/
                     450   ; void LCDLine2Message(char *theMessage)
                     451   ; {
                     452   _LCDLine2Message:
08000232  4E56 0000  453          link      A6,#0
                     454   ; LCDcommand = 0xC0 ;
08000236  13FC 00C0  455          move.b    #192,4194336
0800023A  0040 0020 
                     456   ; Wait3ms();
0800023E  4EB9 0800  457          jsr       _Wait3ms
08000242  00F4      
                     458   ; LCDClearln() ;
08000244  4EB9 0800  459          jsr       _LCDClearln
08000248  01DC      
                     460   ; LCDcommand = 0xC0 ;
0800024A  13FC 00C0  461          move.b    #192,4194336
0800024E  0040 0020 
                     462   ; Wait3ms() ;
08000252  4EB9 0800  463          jsr       _Wait3ms
08000256  00F4      
                     464   ; LCDOutMessage(theMessage) ;
08000258  2F2E 0008  465          move.l    8(A6),-(A7)
0800025C  4EB9 0800  466          jsr       _LCDOutMessage
08000260  01B0      
08000262  584F       467          addq.w    #4,A7
08000264  4E5E       468          unlk      A6
08000266  4E75       469          rts
                     470   ; }
                     471   ; /*********************************************************************************************************************************
                     472   ; **  IMPORTANT FUNCTION
                     473   ; **  This function install an exception handler so you can capture and deal with any 68000 exception in your program
                     474   ; **  You pass it the name of a function in your code that will get called in response to the exception (as the 1st parameter)
                     475   ; **  and in the 2nd parameter, you pass it the exception number that you want to take over (see 68000 exceptions for details)
                     476   ; **  Calling this function allows you to deal with Interrupts for example
                     477   ; ***********************************************************************************************************************************/
                     478   ; void InstallExceptionHandler( void (*function_ptr)(), int level)
                     479   ; {
                     480   _InstallExceptionHandler:
08000268  4E56 FFFC  481          link      A6,#-4
                     482   ; volatile long int *RamVectorAddress = (volatile long int *)(StartOfExceptionVectorTable) ;   // pointer to the Ram based interrupt vector table created in Cstart in debug monitor
0800026C  2D7C 0803  483          move.l    #134414336,-4(A6)
08000270  0000 FFFC 
                     484   ; RamVectorAddress[level] = (long int *)(function_ptr);                       // install the address of our function into the exception table
08000274  206E FFFC  485          move.l    -4(A6),A0
08000278  202E 000C  486          move.l    12(A6),D0
0800027C  E588       487          lsl.l     #2,D0
0800027E  21AE 0008  488          move.l    8(A6),0(A0,D0.L)
08000282  0800      
08000284  4E5E       489          unlk      A6
08000286  4E75       490          rts
                     491   ; }
                     492   ; /******************************************************************************************************************************
                     493   ; * Start of user program
                     494   ; ******************************************************************************************************************************/
                     495   ; void main()
                     496   ; {
                     497   _main:
08000288  4E56 FF54  498          link      A6,#-172
0800028C  48E7 0030  499          movem.l   A2/A3,-(A7)
08000290  45F9 0800  500          lea       _InstallExceptionHandler.L,A2
08000294  0268      
08000296  47F9 0800  501          lea       _printf.L,A3
0800029A  0CDC      
                     502   ; unsigned int row, i=0, count=0, counter1=1;
0800029C  42AE FF58  503          clr.l     -168(A6)
080002A0  42AE FF5C  504          clr.l     -164(A6)
080002A4  2D7C 0000  505          move.l    #1,-160(A6)
080002A8  0001 FF60 
                     506   ; char c, text[150] ;
                     507   ; int PassFailFlag = 1 ;
080002AC  2D7C 0000  508          move.l    #1,-4(A6)
080002B0  0001 FFFC 
                     509   ; i = x = y = z = PortA_Count =0;
080002B4  42B9 0800  510          clr.l     _PortA_Count.L
080002B8  1A44      
080002BA  42B9 0800  511          clr.l     _z.L
080002BE  1A40      
080002C0  42B9 0800  512          clr.l     _y.L
080002C4  1A3C      
080002C6  42B9 0800  513          clr.l     _x.L
080002CA  1A38      
080002CC  42AE FF58  514          clr.l     -168(A6)
                     515   ; Timer1Count = Timer2Count = Timer3Count = Timer4Count = 0;
080002D0  4239 0800  516          clr.b     _Timer4Count.L
080002D4  1A4E      
080002D6  4239 0800  517          clr.b     _Timer3Count.L
080002DA  1A4C      
080002DC  4239 0800  518          clr.b     _Timer2Count.L
080002E0  1A4A      
080002E2  4239 0800  519          clr.b     _Timer1Count.L
080002E6  1A48      
                     520   ; InstallExceptionHandler(PIA_ISR, 25) ;          // install interrupt handler for PIAs 1 and 2 on level 1 IRQ
080002E8  4878 0019  521          pea       25
080002EC  4879 0800  522          pea       _PIA_ISR.L
080002F0  00DA      
080002F2  4E92       523          jsr       (A2)
080002F4  504F       524          addq.w    #8,A7
                     525   ; InstallExceptionHandler(ACIA_ISR, 26) ;		    // install interrupt handler for ACIA on level 2 IRQ
080002F6  4878 001A  526          pea       26
080002FA  4879 0800  527          pea       _ACIA_ISR.L
080002FE  00D8      
08000300  4E92       528          jsr       (A2)
08000302  504F       529          addq.w    #8,A7
                     530   ; InstallExceptionHandler(Timer_ISR, 27) ;		// install interrupt handler for Timers 1-4 on level 3 IRQ
08000304  4878 001B  531          pea       27
08000308  4879 0800  532          pea       _Timer_ISR.L
0800030C  003E      
0800030E  4E92       533          jsr       (A2)
08000310  504F       534          addq.w    #8,A7
                     535   ; InstallExceptionHandler(Key2PressISR, 28) ;	    // install interrupt handler for Key Press 2 on DE1 board for level 4 IRQ
08000312  4878 001C  536          pea       28
08000316  4879 0800  537          pea       _Key2PressISR.L
0800031A  00DC      
0800031C  4E92       538          jsr       (A2)
0800031E  504F       539          addq.w    #8,A7
                     540   ; InstallExceptionHandler(Key1PressISR, 29) ;	    // install interrupt handler for Key Press 1 on DE1 board for level 5 IRQ
08000320  4878 001D  541          pea       29
08000324  4879 0800  542          pea       _Key1PressISR.L
08000328  00DE      
0800032A  4E92       543          jsr       (A2)
0800032C  504F       544          addq.w    #8,A7
                     545   ; Timer1Data = 0x10;		// program time delay into timers 1-4
0800032E  13FC 0010  546          move.b    #16,4194352
08000332  0040 0030 
                     547   ; Timer2Data = 0x20;
08000336  13FC 0020  548          move.b    #32,4194356
0800033A  0040 0034 
                     549   ; Timer3Data = 0x15;
0800033E  13FC 0015  550          move.b    #21,4194360
08000342  0040 0038 
                     551   ; Timer4Data = 0x25;
08000346  13FC 0025  552          move.b    #37,4194364
0800034A  0040 003C 
                     553   ; Timer1Control = 3;		// write 3 to control register to Bit0 = 1 (enable interrupt from timers) 1 - 4 and allow them to count Bit 1 = 1
0800034E  13FC 0003  554          move.b    #3,4194354
08000352  0040 0032 
                     555   ; Timer2Control = 3;
08000356  13FC 0003  556          move.b    #3,4194358
0800035A  0040 0036 
                     557   ; Timer3Control = 3;
0800035E  13FC 0003  558          move.b    #3,4194362
08000362  0040 003A 
                     559   ; Timer4Control = 3;
08000366  13FC 0003  560          move.b    #3,4194366
0800036A  0040 003E 
                     561   ; Init_LCD();             // initialise the LCD display to use a parallel data interface and 2 lines of display
0800036E  4EB9 0800  562          jsr       _Init_LCD
08000372  010E      
                     563   ; Init_RS232() ;          // initialise the RS232 port for use with hyper terminal
08000374  4EB9 0800  564          jsr       _Init_RS232
08000378  012C      
                     565   ; /*************************************************************************************************
                     566   ; **  Test of scanf function
                     567   ; *************************************************************************************************/
                     568   ; scanflush() ;                       // flush any text that may have been typed ahead
0800037A  4EB9 0800  569          jsr       _scanflush
0800037E  06D0      
                     570   ; printf("\r\nEnter Integer: ") ;
08000380  4879 0800  571          pea       @m68kus~1_1.L
08000384  187E      
08000386  4E93       572          jsr       (A3)
08000388  584F       573          addq.w    #4,A7
                     574   ; scanf("%d", &i) ;
0800038A  486E FF58  575          pea       -168(A6)
0800038E  4879 0800  576          pea       @m68kus~1_2.L
08000392  1890      
08000394  4EB9 0800  577          jsr       _scanf
08000398  0412      
0800039A  504F       578          addq.w    #8,A7
                     579   ; printf("You entered %d", i) ;
0800039C  2F2E FF58  580          move.l    -168(A6),-(A7)
080003A0  4879 0800  581          pea       @m68kus~1_3.L
080003A4  1894      
080003A6  4E93       582          jsr       (A3)
080003A8  504F       583          addq.w    #8,A7
                     584   ; sprintf(text, "Hello CPEN 412 Student") ;
080003AA  4879 0800  585          pea       @m68kus~1_4.L
080003AE  18A4      
080003B0  486E FF66  586          pea       -154(A6)
080003B4  4EB9 0800  587          jsr       _sprintf
080003B8  03DE      
080003BA  504F       588          addq.w    #8,A7
                     589   ; LCDLine1Message(text) ;
080003BC  486E FF66  590          pea       -154(A6)
080003C0  4EB9 0800  591          jsr       _LCDLine1Message
080003C4  01FC      
080003C6  584F       592          addq.w    #4,A7
                     593   ; printf("\r\nHello CPEN 412 Student\r\nYour LEDs should be Flashing") ;
080003C8  4879 0800  594          pea       @m68kus~1_5.L
080003CC  18BC      
080003CE  4E93       595          jsr       (A3)
080003D0  584F       596          addq.w    #4,A7
                     597   ; printf("\r\nYour LCD should be displaying") ;
080003D2  4879 0800  598          pea       @m68kus~1_6.L
080003D6  18F4      
080003D8  4E93       599          jsr       (A3)
080003DA  584F       600          addq.w    #4,A7
                     601   ; while(1)
                     602   main_1:
080003DC  60FE       603          bra       main_1
                     604   ; ;
                     605   ; // programs should NOT exit as there is nothing to Exit TO !!!!!!
                     606   ; // There is no OS - just press the reset button to end program and call debug
                     607   ; }
                     608   _sprintf:
080003DE  4E56 FFFC  609          link      A6,#-4
080003E2  48E7 2000  610          movem.l   D2,-(A7)
080003E6  41EE 000C  611          lea       12(A6),A0
080003EA  5848       612          addq.w    #4,A0
080003EC  2408       613          move.l    A0,D2
080003EE  2F02       614          move.l    D2,-(A7)
080003F0  2F2E 000C  615          move.l    12(A6),-(A7)
080003F4  2F2E 0008  616          move.l    8(A6),-(A7)
080003F8  6100 09C6  617          bsr       _vsprintf
080003FC  DEFC 000C  618          add.w     #12,A7
08000400  2D40 FFFC  619          move.l    D0,-4(A6)
08000404  4282       620          clr.l     D2
08000406  202E FFFC  621          move.l    -4(A6),D0
0800040A  4CDF 0004  622          movem.l   (A7)+,D2
0800040E  4E5E       623          unlk      A6
08000410  4E75       624          rts
                     625   _scanf:
08000412  4E56 FFFC  626          link      A6,#-4
08000416  48E7 2000  627          movem.l   D2,-(A7)
0800041A  41EE 0008  628          lea       8(A6),A0
0800041E  5848       629          addq.w    #4,A0
08000420  2408       630          move.l    A0,D2
08000422  2F02       631          move.l    D2,-(A7)
08000424  2F2E 0008  632          move.l    8(A6),-(A7)
08000428  42A7       633          clr.l     -(A7)
0800042A  6100 02C2  634          bsr       _vsscanf
0800042E  DEFC 000C  635          add.w     #12,A7
08000432  2D40 FFFC  636          move.l    D0,-4(A6)
08000436  4282       637          clr.l     D2
08000438  202E FFFC  638          move.l    -4(A6),D0
0800043C  4CDF 0004  639          movem.l   (A7)+,D2
08000440  4E5E       640          unlk      A6
08000442  4E75       641          rts
                     642   @vsscanf_scanread:
08000444  4E56 FFFC  643          link      A6,#-4
08000448  48E7 0020  644          movem.l   A2,-(A7)
0800044C  45F9 0800  645          lea       @vsscanf_bufx,A2
08000450  1920      
08000452  4AAE 0008  646          tst.l     8(A6)
08000456  6722       647          beq.s     @vsscanf_scanread_1
08000458  206E 0008  648          move.l    8(A6),A0
0800045C  58AE 0008  649          addq.l    #4,8(A6)
08000460  2050       650          move.l    (A0),A0
08000462  1010       651          move.b    (A0),D0
08000464  4880       652          ext.w     D0
08000466  48C0       653          ext.l     D0
08000468  2D40 FFFC  654          move.l    D0,-4(A6)
0800046C  6706       655          beq.s     @vsscanf_scanread_3
0800046E  202E FFFC  656          move.l    -4(A6),D0
08000472  6002       657          bra.s     @vsscanf_scanread_4
                     658   @vsscanf_scanread_3:
08000474  70FF       659          moveq     #-1,D0
                     660   @vsscanf_scanread_4:
08000476  6000 0032  661          bra       @vsscanf_scanread_5
                     662   @vsscanf_scanread_1:
0800047A  2052       663          move.l    (A2),A0
0800047C  1010       664          move.b    (A0),D0
0800047E  6620       665          bne.s     @vsscanf_scanread_6
08000480  4879 0800  666          pea       @vsscanf_buf
08000484  1A50      
08000486  6100 103C  667          bsr       _gets
0800048A  584F       668          addq.w    #4,A7
0800048C  2480       669          move.l    D0,(A2)
0800048E  4879 0800  670          pea       @vsscanf_1
08000492  1924      
08000494  4879 0800  671          pea       @vsscanf_buf
08000498  1A50      
0800049A  6100 10C8  672          bsr       _strcat
0800049E  504F       673          addq.w    #8,A7
                     674   @vsscanf_scanread_6:
080004A0  2052       675          move.l    (A2),A0
080004A2  5292       676          addq.l    #1,(A2)
080004A4  1010       677          move.b    (A0),D0
080004A6  4880       678          ext.w     D0
080004A8  48C0       679          ext.l     D0
                     680   @vsscanf_scanread_5:
080004AA  4CDF 0400  681          movem.l   (A7)+,A2
080004AE  4E5E       682          unlk      A6
080004B0  4E75       683          rts
                     684   @vsscanf_scanputback:
080004B2  4E56 0000  685          link      A6,#0
080004B6  48E7 3000  686          movem.l   D2/D3,-(A7)
080004BA  242E 000C  687          move.l    12(A6),D2
080004BE  262E 0008  688          move.l    8(A6),D3
080004C2  6718       689          beq.s     @vsscanf_scanputback_1
080004C4  0C82 FFFF  690          cmp.l     #-1,D2
080004C8  FFFF      
080004CA  670A       691          beq.s     @vsscanf_scanputback_3
080004CC  5983       692          subq.l    #4,D3
080004CE  2043       693          move.l    D3,A0
080004D0  2050       694          move.l    (A0),A0
080004D2  1082       695          move.b    D2,(A0)
080004D4  6004       696          bra.s     @vsscanf_scanputback_4
                     697   @vsscanf_scanputback_3:
080004D6  2043       698          move.l    D3,A0
080004D8  5390       699          subq.l    #1,(A0)
                     700   @vsscanf_scanputback_4:
080004DA  602E       701          bra.s     @vsscanf_scanputback_6
                     702   @vsscanf_scanputback_1:
080004DC  41F9 0800  703          lea       @vsscanf_buf,A0
080004E0  1A50      
080004E2  2008       704          move.l    A0,D0
080004E4  B0B9 0800  705          cmp.l     @vsscanf_bufx,D0
080004E8  1920      
080004EA  6610       706          bne.s     @vsscanf_scanputback_5
080004EC  4239 0800  707          clr.b     @vsscanf_buf
080004F0  1A50      
080004F2  2F02       708          move.l    D2,-(A7)
080004F4  6100 10B0  709          bsr       _ungetch
080004F8  584F       710          addq.w    #4,A7
080004FA  600E       711          bra.s     @vsscanf_scanputback_6
                     712   @vsscanf_scanputback_5:
080004FC  53B9 0800  713          subq.l    #1,@vsscanf_bufx
08000500  1920      
08000502  2079 0800  714          move.l    @vsscanf_bufx,A0
08000506  1920      
08000508  1082       715          move.b    D2,(A0)
                     716   @vsscanf_scanputback_6:
0800050A  2002       717          move.l    D2,D0
0800050C  4CDF 000C  718          movem.l   (A7)+,D2/D3
08000510  4E5E       719          unlk      A6
08000512  4E75       720          rts
                     721   @vsscanf_scanspace:
08000514  4E56 0000  722          link      A6,#0
08000518  48E7 2000  723          movem.l   D2,-(A7)
                     724   @vsscanf_scanspace_1:
0800051C  2F2E 0008  725          move.l    8(A6),-(A7)
08000520  6100 FF22  726          bsr       @vsscanf_scanread
08000524  584F       727          addq.w    #4,A7
08000526  2400       728          move.l    D0,D2
08000528  206E 000C  729          move.l    12(A6),A0
0800052C  5290       730          addq.l    #1,(A0)
0800052E  2042       731          move.l    D2,A0
08000530  43F9 0800  732          lea       __ctype,A1
08000534  1926      
08000536  1030 9801  733          move.b    1(A0,A1.L),D0
0800053A  C03C 0010  734          and.b     #16,D0
0800053E  66DC       735          bne       @vsscanf_scanspace_1
08000540  2002       736          move.l    D2,D0
08000542  4CDF 0004  737          movem.l   (A7)+,D2
08000546  4E5E       738          unlk      A6
08000548  4E75       739          rts
                     740   @vsscanf_scanselect:
0800054A  4E56 0000  741          link      A6,#0
0800054E  48E7 3F20  742          movem.l   D2/D3/D4/D5/D6/D7/A2,-(A7)
08000552  262E 000C  743          move.l    12(A6),D3
08000556  2C2E 0018  744          move.l    24(A6),D6
0800055A  2E2E 0014  745          move.l    20(A6),D7
0800055E  2043       746          move.l    D3,A0
08000560  1010       747          move.b    (A0),D0
08000562  4880       748          ext.w     D0
08000564  48C0       749          ext.l     D0
08000566  0C80 0000  750          cmp.l     #94,D0
0800056A  005E      
0800056C  6608       751          bne.s     @vsscanf_scanselect_1
0800056E  347C 0001  752          move.w    #1,A2
08000572  5283       753          addq.l    #1,D3
08000574  6004       754          bra.s     @vsscanf_scanselect_2
                     755   @vsscanf_scanselect_1:
08000576  347C 0000  756          move.w    #0,A2
                     757   @vsscanf_scanselect_2:
0800057A  202E 0010  758          move.l    16(A6),D0
0800057E  53AE 0010  759          subq.l    #1,16(A6)
08000582  4A80       760          tst.l     D0
08000584  6700 0108  761          beq       @vsscanf_scanselect_5
08000588  2F2E 0008  762          move.l    8(A6),-(A7)
0800058C  6100 FEB6  763          bsr       @vsscanf_scanread
08000590  584F       764          addq.w    #4,A7
08000592  2800       765          move.l    D0,D4
08000594  0C84 FFFF  766          cmp.l     #-1,D4
08000598  FFFF      
0800059A  6604       767          bne.s     @vsscanf_scanselect_6
0800059C  6000 00F0  768          bra       @vsscanf_scanselect_5
                     769   @vsscanf_scanselect_6:
080005A0  206E 001C  770          move.l    28(A6),A0
080005A4  5290       771          addq.l    #1,(A0)
080005A6  4285       772          clr.l     D5
080005A8  4282       773          clr.l     D2
                     774   @vsscanf_scanselect_8:
080005AA  2043       775          move.l    D3,A0
080005AC  1030 2800  776          move.b    0(A0,D2.L),D0
080005B0  4880       777          ext.w     D0
080005B2  48C0       778          ext.l     D0
080005B4  0C80 0000  779          cmp.l     #93,D0
080005B8  005D      
080005BA  6700 008E  780          beq       @vsscanf_scanselect_10
080005BE  4A82       781          tst.l     D2
080005C0  6716       782          beq.s     @vsscanf_scanselect_11
080005C2  2043       783          move.l    D3,A0
080005C4  1030 2800  784          move.b    0(A0,D2.L),D0
080005C8  4880       785          ext.w     D0
080005CA  48C0       786          ext.l     D0
080005CC  0C80 0000  787          cmp.l     #93,D0
080005D0  005D      
080005D2  6604       788          bne.s     @vsscanf_scanselect_11
080005D4  6000 0074  789          bra       @vsscanf_scanselect_10
                     790   @vsscanf_scanselect_11:
080005D8  4A82       791          tst.l     D2
080005DA  6700 0058  792          beq       @vsscanf_scanselect_15
080005DE  2043       793          move.l    D3,A0
080005E0  1030 2800  794          move.b    0(A0,D2.L),D0
080005E4  4880       795          ext.w     D0
080005E6  48C0       796          ext.l     D0
080005E8  0C80 0000  797          cmp.l     #45,D0
080005EC  002D      
080005EE  6600 0044  798          bne       @vsscanf_scanselect_15
080005F2  2043       799          move.l    D3,A0
080005F4  2002       800          move.l    D2,D0
080005F6  5380       801          subq.l    #1,D0
080005F8  2243       802          move.l    D3,A1
080005FA  2F08       803          move.l    A0,-(A7)
080005FC  2042       804          move.l    D2,A0
080005FE  1230 0800  805          move.b    0(A0,D0.L),D1
08000602  B230 9801  806          cmp.b     1(A0,A1.L),D1
08000606  6C00 002C  807          bge       @vsscanf_scanselect_15
0800060A  205F       808          move.l    (A7)+,A0
0800060C  2043       809          move.l    D3,A0
0800060E  2002       810          move.l    D2,D0
08000610  5380       811          subq.l    #1,D0
08000612  1030 0800  812          move.b    0(A0,D0.L),D0
08000616  4880       813          ext.w     D0
08000618  48C0       814          ext.l     D0
0800061A  B880       815          cmp.l     D0,D4
0800061C  6D12       816          blt.s     @vsscanf_scanselect_17
0800061E  2043       817          move.l    D3,A0
08000620  2242       818          move.l    D2,A1
08000622  1031 8801  819          move.b    1(A1,A0.L),D0
08000626  4880       820          ext.w     D0
08000628  48C0       821          ext.l     D0
0800062A  B880       822          cmp.l     D0,D4
0800062C  6E02       823          bgt.s     @vsscanf_scanselect_17
0800062E  601A       824          bra.s     @vsscanf_scanselect_10
                     825   @vsscanf_scanselect_17:
08000630  5282       826          addq.l    #1,D2
08000632  6010       827          bra.s     @vsscanf_scanselect_19
                     828   @vsscanf_scanselect_15:
08000634  2043       829          move.l    D3,A0
08000636  1030 2800  830          move.b    0(A0,D2.L),D0
0800063A  4880       831          ext.w     D0
0800063C  48C0       832          ext.l     D0
0800063E  B880       833          cmp.l     D0,D4
08000640  6602       834          bne.s     @vsscanf_scanselect_19
08000642  6006       835          bra.s     @vsscanf_scanselect_10
                     836   @vsscanf_scanselect_19:
08000644  5282       837          addq.l    #1,D2
08000646  6000 FF62  838          bra       @vsscanf_scanselect_8
                     839   @vsscanf_scanselect_10:
0800064A  4A82       840          tst.l     D2
0800064C  6712       841          beq.s     @vsscanf_scanselect_23
0800064E  2043       842          move.l    D3,A0
08000650  1030 2800  843          move.b    0(A0,D2.L),D0
08000654  4880       844          ext.w     D0
08000656  48C0       845          ext.l     D0
08000658  0C80 0000  846          cmp.l     #93,D0
0800065C  005D      
0800065E  6702       847          beq.s     @vsscanf_scanselect_21
                     848   @vsscanf_scanselect_23:
08000660  7A01       849          moveq     #1,D5
                     850   @vsscanf_scanselect_21:
08000662  200A       851          move.l    A2,D0
08000664  6712       852          beq.s     @vsscanf_scanselect_24
08000666  4A85       853          tst.l     D5
08000668  660C       854          bne.s     @vsscanf_scanselect_26
0800066A  4A87       855          tst.l     D7
0800066C  6606       856          bne.s     @vsscanf_scanselect_28
0800066E  2046       857          move.l    D6,A0
08000670  5286       858          addq.l    #1,D6
08000672  1084       859          move.b    D4,(A0)
                     860   @vsscanf_scanselect_28:
08000674  6014       861          bra.s     @vsscanf_scanselect_4
                     862   @vsscanf_scanselect_26:
08000676  6016       863          bra.s     @vsscanf_scanselect_5
                     864   @vsscanf_scanselect_24:
08000678  4A85       865          tst.l     D5
0800067A  670C       866          beq.s     @vsscanf_scanselect_30
0800067C  4A87       867          tst.l     D7
0800067E  6606       868          bne.s     @vsscanf_scanselect_32
08000680  2046       869          move.l    D6,A0
08000682  5286       870          addq.l    #1,D6
08000684  1084       871          move.b    D4,(A0)
                     872   @vsscanf_scanselect_32:
08000686  6002       873          bra.s     @vsscanf_scanselect_4
                     874   @vsscanf_scanselect_30:
08000688  6004       875          bra.s     @vsscanf_scanselect_5
                     876   @vsscanf_scanselect_4:
0800068A  6000 FEEE  877          bra       @vsscanf_scanselect_2
                     878   @vsscanf_scanselect_5:
0800068E  0C84 FFFF  879          cmp.l     #-1,D4
08000692  FFFF      
08000694  6712       880          beq.s     @vsscanf_scanselect_34
08000696  2F04       881          move.l    D4,-(A7)
08000698  2F2E 0008  882          move.l    8(A6),-(A7)
0800069C  6100 FE14  883          bsr       @vsscanf_scanputback
080006A0  504F       884          addq.w    #8,A7
080006A2  206E 001C  885          move.l    28(A6),A0
080006A6  5390       886          subq.l    #1,(A0)
                     887   @vsscanf_scanselect_34:
080006A8  4A87       888          tst.l     D7
080006AA  6604       889          bne.s     @vsscanf_scanselect_36
080006AC  2046       890          move.l    D6,A0
080006AE  4210       891          clr.b     (A0)
                     892   @vsscanf_scanselect_36:
080006B0  5283       893          addq.l    #1,D3
080006B2  2043       894          move.l    D3,A0
080006B4  1010       895          move.b    (A0),D0
080006B6  4880       896          ext.w     D0
080006B8  48C0       897          ext.l     D0
080006BA  0C80 0000  898          cmp.l     #93,D0
080006BE  005D      
080006C0  6702       899          beq.s     @vsscanf_scanselect_40
080006C2  60EC       900          bra       @vsscanf_scanselect_36
                     901   @vsscanf_scanselect_40:
080006C4  5283       902          addq.l    #1,D3
080006C6  2003       903          move.l    D3,D0
080006C8  4CDF 04FC  904          movem.l   (A7)+,D2/D3/D4/D5/D6/D7/A2
080006CC  4E5E       905          unlk      A6
080006CE  4E75       906          rts
                     907   _scanflush:
080006D0  41F9 0800  908          lea       @vsscanf_buf,A0
080006D4  1A50      
080006D6  23C8 0800  909          move.l    A0,@vsscanf_bufx
080006DA  1920      
080006DC  4239 0800  910          clr.b     @vsscanf_buf
080006E0  1A50      
080006E2  4878 FFFF  911          pea       -1
080006E6  6100 0EBE  912          bsr       _ungetch
080006EA  584F       913          addq.w    #4,A7
080006EC  4E75       914          rts
                     915   _vsscanf:
080006EE  4E56 FF88  916          link      A6,#-120
080006F2  48E7 3F3C  917          movem.l   D2/D3/D4/D5/D6/D7/A2/A3/A4/A5,-(A7)
080006F6  47F9 0800  918          lea       @vsscanf_scanread,A3
080006FA  0444      
080006FC  4AAE 0008  919          tst.l     8(A6)
08000700  6706       920          beq.s     vsscanf_1
08000702  41EE 0008  921          lea       8(A6),A0
08000706  6004       922          bra.s     vsscanf_2
                     923   vsscanf_1:
08000708  4280       924          clr.l     D0
0800070A  2040       925          move.l    D0,A0
                     926   vsscanf_2:
0800070C  2A08       927          move.l    A0,D5
0800070E  42AE FFE4  928          clr.l     -28(A6)
08000712  4284       929          clr.l     D4
                     930   vsscanf_3:
08000714  206E 000C  931          move.l    12(A6),A0
08000718  52AE 000C  932          addq.l    #1,12(A6)
0800071C  1010       933          move.b    (A0),D0
0800071E  4880       934          ext.w     D0
08000720  48C0       935          ext.l     D0
08000722  2600       936          move.l    D0,D3
08000724  6700 05AC  937          beq       vsscanf_5
08000728  4286       938          clr.l     D6
0800072A  387C 0000  939          move.w    #0,A4
0800072E  0C83 0000  940          cmp.l     #32,D3
08000732  0020      
08000734  6712       941          beq.s     vsscanf_8
08000736  0C83 0000  942          cmp.l     #9,D3
0800073A  0009      
0800073C  670A       943          beq.s     vsscanf_8
0800073E  0C83 0000  944          cmp.l     #10,D3
08000742  000A      
08000744  6600 0048  945          bne       vsscanf_6
                     946   vsscanf_8:
08000748  2F05       947          move.l    D5,-(A7)
0800074A  4E93       948          jsr       (A3)
0800074C  584F       949          addq.w    #4,A7
0800074E  2400       950          move.l    D0,D2
08000750  52AE FFE4  951          addq.l    #1,-28(A6)
08000754  0C82 FFFF  952          cmp.l     #-1,D2
08000758  FFFF      
0800075A  660E       953          bne.s     vsscanf_11
0800075C  4A84       954          tst.l     D4
0800075E  6704       955          beq.s     vsscanf_13
08000760  2004       956          move.l    D4,D0
08000762  6002       957          bra.s     vsscanf_14
                     958   vsscanf_13:
08000764  70FF       959          moveq     #-1,D0
                     960   vsscanf_14:
08000766  6000 056C  961          bra       vsscanf_15
                     962   vsscanf_11:
0800076A  2042       963          move.l    D2,A0
0800076C  43F9 0800  964          lea       __ctype,A1
08000770  1926      
08000772  1030 9801  965          move.b    1(A0,A1.L),D0
08000776  C03C 0010  966          and.b     #16,D0
0800077A  66CC       967          bne       vsscanf_8
0800077C  53AE FFE4  968          subq.l    #1,-28(A6)
08000780  2F02       969          move.l    D2,-(A7)
08000782  2F05       970          move.l    D5,-(A7)
08000784  6100 FD2C  971          bsr       @vsscanf_scanputback
08000788  504F       972          addq.w    #8,A7
0800078A  6000 0542  973          bra       vsscanf_139
                     974   vsscanf_6:
0800078E  0C83 0000  975          cmp.l     #37,D3
08000792  0025      
08000794  6600 0502  976          bne       vsscanf_127
08000798  206E 000C  977          move.l    12(A6),A0
0800079C  52AE 000C  978          addq.l    #1,12(A6)
080007A0  1010       979          move.b    (A0),D0
080007A2  4880       980          ext.w     D0
080007A4  48C0       981          ext.l     D0
080007A6  2600       982          move.l    D0,D3
080007A8  42AE FFEC  983          clr.l     -20(A6)
080007AC  4286       984          clr.l     D6
080007AE  42AE FFE8  985          clr.l     -24(A6)
080007B2  347C 7FFF  986          move.w    #32767,A2
080007B6  0C83 0000  987          cmp.l     #42,D3
080007BA  002A      
080007BC  6612       988          bne.s     vsscanf_18
080007BE  7C01       989          moveq     #1,D6
080007C0  206E 000C  990          move.l    12(A6),A0
080007C4  52AE 000C  991          addq.l    #1,12(A6)
080007C8  1010       992          move.b    (A0),D0
080007CA  4880       993          ext.w     D0
080007CC  48C0       994          ext.l     D0
080007CE  2600       995          move.l    D0,D3
                     996   vsscanf_18:
080007D0  2043       997          move.l    D3,A0
080007D2  43F9 0800  998          lea       __ctype,A1
080007D6  1926      
080007D8  1030 9801  999          move.b    1(A0,A1.L),D0
080007DC  C03C 0004 1000          and.b     #4,D0
080007E0  6700 004E 1001          beq       vsscanf_24
080007E4  2003      1002          move.l    D3,D0
080007E6  0480 0000 1003          sub.l     #48,D0
080007EA  0030      
080007EC  2440      1004          move.l    D0,A2
                    1005   vsscanf_22:
080007EE  206E 000C 1006          move.l    12(A6),A0
080007F2  52AE 000C 1007          addq.l    #1,12(A6)
080007F6  1010      1008          move.b    (A0),D0
080007F8  4880      1009          ext.w     D0
080007FA  48C0      1010          ext.l     D0
080007FC  2600      1011          move.l    D0,D3
080007FE  2040      1012          move.l    D0,A0
08000800  43F9 0800 1013          lea       __ctype,A1
08000804  1926      
08000806  1030 9801 1014          move.b    1(A0,A1.L),D0
0800080A  C0BC 0000 1015          and.l     #255,D0
0800080E  00FF      
08000810  C0BC 0000 1016          and.l     #4,D0
08000814  0004      
08000816  6718      1017          beq.s     vsscanf_24
08000818  70D0      1018          moveq     #-48,D0
0800081A  2F0A      1019          move.l    A2,-(A7)
0800081C  4878 000A 1020          pea       10
08000820  6100 0C14 1021          bsr       LMUL
08000824  2217      1022          move.l    (A7),D1
08000826  504F      1023          addq.w    #8,A7
08000828  D283      1024          add.l     D3,D1
0800082A  D081      1025          add.l     D1,D0
0800082C  2440      1026          move.l    D0,A2
0800082E  60BE      1027          bra       vsscanf_22
                    1028   vsscanf_24:
08000830  0C83 0000 1029          cmp.l     #108,D3
08000834  006C      
08000836  6708      1030          beq.s     vsscanf_27
08000838  0C83 0000 1031          cmp.l     #76,D3
0800083C  004C      
0800083E  661A      1032          bne.s     vsscanf_25
                    1033   vsscanf_27:
08000840  2D7C 0000 1034          move.l    #1,-24(A6)
08000844  0001 FFE8 
08000848  206E 000C 1035          move.l    12(A6),A0
0800084C  52AE 000C 1036          addq.l    #1,12(A6)
08000850  1010      1037          move.b    (A0),D0
08000852  4880      1038          ext.w     D0
08000854  48C0      1039          ext.l     D0
08000856  2600      1040          move.l    D0,D3
08000858  6020      1041          bra.s     vsscanf_28
                    1042   vsscanf_25:
0800085A  0C83 0000 1043          cmp.l     #104,D3
0800085E  0068      
08000860  6618      1044          bne.s     vsscanf_28
08000862  2D7C 0000 1045          move.l    #1,-20(A6)
08000866  0001 FFEC 
0800086A  206E 000C 1046          move.l    12(A6),A0
0800086E  52AE 000C 1047          addq.l    #1,12(A6)
08000872  1010      1048          move.b    (A0),D0
08000874  4880      1049          ext.w     D0
08000876  48C0      1050          ext.l     D0
08000878  2600      1051          move.l    D0,D3
                    1052   vsscanf_28:
0800087A  0C83 0000 1053          cmp.l     #91,D3
0800087E  005B      
08000880  6600 0036 1054          bne       vsscanf_30
08000884  4A86      1055          tst.l     D6
08000886  660A      1056          bne.s     vsscanf_32
08000888  206E 0010 1057          move.l    16(A6),A0
0800088C  58AE 0010 1058          addq.l    #4,16(A6)
08000890  2E10      1059          move.l    (A0),D7
                    1060   vsscanf_32:
08000892  486E FFE4 1061          pea       -28(A6)
08000896  2F07      1062          move.l    D7,-(A7)
08000898  2F06      1063          move.l    D6,-(A7)
0800089A  2F0A      1064          move.l    A2,-(A7)
0800089C  2F2E 000C 1065          move.l    12(A6),-(A7)
080008A0  2F05      1066          move.l    D5,-(A7)
080008A2  6100 FCA6 1067          bsr       @vsscanf_scanselect
080008A6  DEFC 0018 1068          add.w     #24,A7
080008AA  2D40 000C 1069          move.l    D0,12(A6)
080008AE  4A86      1070          tst.l     D6
080008B0  6602      1071          bne.s     vsscanf_34
080008B2  5284      1072          addq.l    #1,D4
                    1073   vsscanf_34:
080008B4  6000 0418 1074          bra       vsscanf_139
                    1075   vsscanf_30:
080008B8  0C83 0000 1076          cmp.l     #110,D3
080008BC  006E      
080008BE  661A      1077          bne.s     vsscanf_36
080008C0  4A86      1078          tst.l     D6
080008C2  6612      1079          bne.s     vsscanf_38
080008C4  206E 0010 1080          move.l    16(A6),A0
080008C8  58AE 0010 1081          addq.l    #4,16(A6)
080008CC  2E10      1082          move.l    (A0),D7
080008CE  2047      1083          move.l    D7,A0
080008D0  20AE FFE4 1084          move.l    -28(A6),(A0)
080008D4  5284      1085          addq.l    #1,D4
                    1086   vsscanf_38:
080008D6  6000 03F6 1087          bra       vsscanf_139
                    1088   vsscanf_36:
080008DA  0C83 0000 1089          cmp.l     #115,D3
080008DE  0073      
080008E0  6600 00AC 1090          bne       vsscanf_40
080008E4  486E FFE4 1091          pea       -28(A6)
080008E8  2F05      1092          move.l    D5,-(A7)
080008EA  6100 FC28 1093          bsr       @vsscanf_scanspace
080008EE  504F      1094          addq.w    #8,A7
080008F0  2400      1095          move.l    D0,D2
080008F2  4A86      1096          tst.l     D6
080008F4  660A      1097          bne.s     vsscanf_42
080008F6  206E 0010 1098          move.l    16(A6),A0
080008FA  58AE 0010 1099          addq.l    #4,16(A6)
080008FE  2E10      1100          move.l    (A0),D7
                    1101   vsscanf_42:
08000900  52AE FFE4 1102          addq.l    #1,-28(A6)
                    1103   vsscanf_44:
08000904  200A      1104          move.l    A2,D0
08000906  534A      1105          subq.w    #1,A2
08000908  4A80      1106          tst.l     D0
0800090A  6700 0038 1107          beq       vsscanf_46
0800090E  2042      1108          move.l    D2,A0
08000910  43F9 0800 1109          lea       __ctype,A1
08000914  1926      
08000916  1030 9801 1110          move.b    1(A0,A1.L),D0
0800091A  C03C 0010 1111          and.b     #16,D0
0800091E  6624      1112          bne.s     vsscanf_46
08000920  0C82 FFFF 1113          cmp.l     #-1,D2
08000924  FFFF      
08000926  671C      1114          beq.s     vsscanf_46
08000928  387C 0001 1115          move.w    #1,A4
0800092C  4A86      1116          tst.l     D6
0800092E  6606      1117          bne.s     vsscanf_47
08000930  2047      1118          move.l    D7,A0
08000932  5287      1119          addq.l    #1,D7
08000934  1082      1120          move.b    D2,(A0)
                    1121   vsscanf_47:
08000936  2F05      1122          move.l    D5,-(A7)
08000938  4E93      1123          jsr       (A3)
0800093A  584F      1124          addq.w    #4,A7
0800093C  2400      1125          move.l    D0,D2
0800093E  52AE FFE4 1126          addq.l    #1,-28(A6)
08000942  60C0      1127          bra       vsscanf_44
                    1128   vsscanf_46:
08000944  4A86      1129          tst.l     D6
08000946  660A      1130          bne.s     vsscanf_51
08000948  2047      1131          move.l    D7,A0
0800094A  4210      1132          clr.b     (A0)
0800094C  200C      1133          move.l    A4,D0
0800094E  6702      1134          beq.s     vsscanf_51
08000950  5284      1135          addq.l    #1,D4
                    1136   vsscanf_51:
08000952  0C82 FFFF 1137          cmp.l     #-1,D2
08000956  FFFF      
08000958  6708      1138          beq.s     vsscanf_55
0800095A  4A86      1139          tst.l     D6
0800095C  661E      1140          bne.s     vsscanf_53
0800095E  200C      1141          move.l    A4,D0
08000960  661A      1142          bne.s     vsscanf_53
                    1143   vsscanf_55:
08000962  4A84      1144          tst.l     D4
08000964  6704      1145          beq.s     vsscanf_56
08000966  2004      1146          move.l    D4,D0
08000968  600E      1147          bra.s     vsscanf_59
                    1148   vsscanf_56:
0800096A  0C82 FFFF 1149          cmp.l     #-1,D2
0800096E  FFFF      
08000970  6604      1150          bne.s     vsscanf_58
08000972  70FF      1151          moveq     #-1,D0
08000974  6002      1152          bra.s     vsscanf_59
                    1153   vsscanf_58:
08000976  2004      1154          move.l    D4,D0
                    1155   vsscanf_59:
08000978  6000 035A 1156          bra       vsscanf_15
                    1157   vsscanf_53:
0800097C  53AE FFE4 1158          subq.l    #1,-28(A6)
08000980  2F02      1159          move.l    D2,-(A7)
08000982  2F05      1160          move.l    D5,-(A7)
08000984  6100 FB2C 1161          bsr       @vsscanf_scanputback
08000988  504F      1162          addq.w    #8,A7
0800098A  6000 0342 1163          bra       vsscanf_139
                    1164   vsscanf_40:
0800098E  0C83 0000 1165          cmp.l     #99,D3
08000992  0063      
08000994  6600 008E 1166          bne       vsscanf_60
08000998  4A86      1167          tst.l     D6
0800099A  660A      1168          bne.s     vsscanf_62
0800099C  206E 0010 1169          move.l    16(A6),A0
080009A0  58AE 0010 1170          addq.l    #4,16(A6)
080009A4  2E10      1171          move.l    (A0),D7
                    1172   vsscanf_62:
080009A6  2F05      1173          move.l    D5,-(A7)
080009A8  4E93      1174          jsr       (A3)
080009AA  584F      1175          addq.w    #4,A7
080009AC  2400      1176          move.l    D0,D2
080009AE  52AE FFE4 1177          addq.l    #1,-28(A6)
080009B2  200A      1178          move.l    A2,D0
080009B4  0C80 0000 1179          cmp.l     #32767,D0
080009B8  7FFF      
080009BA  6604      1180          bne.s     vsscanf_64
080009BC  347C 0001 1181          move.w    #1,A2
                    1182   vsscanf_64:
080009C0  0C82 FFFF 1183          cmp.l     #-1,D2
080009C4  FFFF      
080009C6  6606      1184          bne.s     vsscanf_66
080009C8  4A86      1185          tst.l     D6
080009CA  6602      1186          bne.s     vsscanf_66
080009CC  5384      1187          subq.l    #1,D4
                    1188   vsscanf_66:
080009CE  200A      1189          move.l    A2,D0
080009D0  534A      1190          subq.w    #1,A2
080009D2  4A80      1191          tst.l     D0
080009D4  6720      1192          beq.s     vsscanf_70
080009D6  0C82 FFFF 1193          cmp.l     #-1,D2
080009DA  FFFF      
080009DC  6718      1194          beq.s     vsscanf_70
080009DE  4A86      1195          tst.l     D6
080009E0  6606      1196          bne.s     vsscanf_71
080009E2  2047      1197          move.l    D7,A0
080009E4  5287      1198          addq.l    #1,D7
080009E6  1082      1199          move.b    D2,(A0)
                    1200   vsscanf_71:
080009E8  2F05      1201          move.l    D5,-(A7)
080009EA  4E93      1202          jsr       (A3)
080009EC  584F      1203          addq.w    #4,A7
080009EE  2400      1204          move.l    D0,D2
080009F0  52AE FFE4 1205          addq.l    #1,-28(A6)
080009F4  60D8      1206          bra       vsscanf_66
                    1207   vsscanf_70:
080009F6  0C82 FFFF 1208          cmp.l     #-1,D2
080009FA  FFFF      
080009FC  660E      1209          bne.s     vsscanf_73
080009FE  4A84      1210          tst.l     D4
08000A00  6704      1211          beq.s     vsscanf_75
08000A02  2004      1212          move.l    D4,D0
08000A04  6002      1213          bra.s     vsscanf_76
                    1214   vsscanf_75:
08000A06  70FF      1215          moveq     #-1,D0
                    1216   vsscanf_76:
08000A08  6000 02CA 1217          bra       vsscanf_15
                    1218   vsscanf_73:
08000A0C  4A86      1219          tst.l     D6
08000A0E  6602      1220          bne.s     vsscanf_77
08000A10  5284      1221          addq.l    #1,D4
                    1222   vsscanf_77:
08000A12  53AE FFE4 1223          subq.l    #1,-28(A6)
08000A16  2F02      1224          move.l    D2,-(A7)
08000A18  2F05      1225          move.l    D5,-(A7)
08000A1A  6100 FA96 1226          bsr       @vsscanf_scanputback
08000A1E  504F      1227          addq.w    #8,A7
08000A20  6000 02AC 1228          bra       vsscanf_139
                    1229   vsscanf_60:
08000A24  0C83 0000 1230          cmp.l     #105,D3
08000A28  0069      
08000A2A  6600 0060 1231          bne       vsscanf_82
08000A2E  486E FFE4 1232          pea       -28(A6)
08000A32  2F05      1233          move.l    D5,-(A7)
08000A34  6100 FADE 1234          bsr       @vsscanf_scanspace
08000A38  504F      1235          addq.w    #8,A7
08000A3A  2400      1236          move.l    D0,D2
08000A3C  0C82 0000 1237          cmp.l     #48,D2
08000A40  0030      
08000A42  6600 0038 1238          bne       vsscanf_81
08000A46  387C 0001 1239          move.w    #1,A4
08000A4A  2F05      1240          move.l    D5,-(A7)
08000A4C  4E93      1241          jsr       (A3)
08000A4E  584F      1242          addq.w    #4,A7
08000A50  2400      1243          move.l    D0,D2
08000A52  2F02      1244          move.l    D2,-(A7)
08000A54  6100 0AE2 1245          bsr       _tolower
08000A58  584F      1246          addq.w    #4,A7
08000A5A  0C80 0000 1247          cmp.l     #120,D0
08000A5E  0078      
08000A60  6604      1248          bne.s     vsscanf_83
08000A62  7678      1249          moveq     #120,D3
08000A64  6010      1250          bra.s     vsscanf_84
                    1251   vsscanf_83:
08000A66  53AE FFE4 1252          subq.l    #1,-28(A6)
08000A6A  2F02      1253          move.l    D2,-(A7)
08000A6C  2F05      1254          move.l    D5,-(A7)
08000A6E  6100 FA42 1255          bsr       @vsscanf_scanputback
08000A72  504F      1256          addq.w    #8,A7
08000A74  766F      1257          moveq     #111,D3
                    1258   vsscanf_84:
08000A76  52AE FFE4 1259          addq.l    #1,-28(A6)
08000A7A  6010      1260          bra.s     vsscanf_82
                    1261   vsscanf_81:
08000A7C  53AE FFE4 1262          subq.l    #1,-28(A6)
08000A80  2F02      1263          move.l    D2,-(A7)
08000A82  2F05      1264          move.l    D5,-(A7)
08000A84  6100 FA2C 1265          bsr       @vsscanf_scanputback
08000A88  504F      1266          addq.w    #8,A7
08000A8A  7664      1267          moveq     #100,D3
                    1268   vsscanf_82:
08000A8C  0C83 0000 1269          cmp.l     #100,D3
08000A90  0064      
08000A92  671A      1270          beq.s     vsscanf_87
08000A94  0C83 0000 1271          cmp.l     #117,D3
08000A98  0075      
08000A9A  6712      1272          beq.s     vsscanf_87
08000A9C  0C83 0000 1273          cmp.l     #120,D3
08000AA0  0078      
08000AA2  670A      1274          beq.s     vsscanf_87
08000AA4  0C83 0000 1275          cmp.l     #111,D3
08000AA8  006F      
08000AAA  6600 01A4 1276          bne       vsscanf_85
                    1277   vsscanf_87:
08000AAE  486E FFE4 1278          pea       -28(A6)
08000AB2  2F05      1279          move.l    D5,-(A7)
08000AB4  6100 FA5E 1280          bsr       @vsscanf_scanspace
08000AB8  504F      1281          addq.w    #8,A7
08000ABA  2400      1282          move.l    D0,D2
08000ABC  2D7C 0000 1283          move.l    #10,-4(A6)
08000AC0  000A FFFC 
08000AC4  0C83 0000 1284          cmp.l     #120,D3
08000AC8  0078      
08000ACA  6608      1285          bne.s     vsscanf_88
08000ACC  2D7C 0000 1286          move.l    #16,-4(A6)
08000AD0  0010 FFFC 
                    1287   vsscanf_88:
08000AD4  0C83 0000 1288          cmp.l     #111,D3
08000AD8  006F      
08000ADA  6608      1289          bne.s     vsscanf_90
08000ADC  2D7C 0000 1290          move.l    #8,-4(A6)
08000AE0  0008 FFFC 
                    1291   vsscanf_90:
08000AE4  4A86      1292          tst.l     D6
08000AE6  660A      1293          bne.s     vsscanf_92
08000AE8  206E 0010 1294          move.l    16(A6),A0
08000AEC  58AE 0010 1295          addq.l    #4,16(A6)
08000AF0  2E10      1296          move.l    (A0),D7
                    1297   vsscanf_92:
08000AF2  42AE FFE0 1298          clr.l     -32(A6)
08000AF6  52AE FFE4 1299          addq.l    #1,-28(A6)
08000AFA  0C83 0000 1300          cmp.l     #117,D3
08000AFE  0075      
08000B00  6720      1301          beq.s     vsscanf_94
08000B02  0C82 0000 1302          cmp.l     #45,D2
08000B06  002D      
08000B08  6618      1303          bne.s     vsscanf_94
08000B0A  2F05      1304          move.l    D5,-(A7)
08000B0C  4E93      1305          jsr       (A3)
08000B0E  584F      1306          addq.w    #4,A7
08000B10  2400      1307          move.l    D0,D2
08000B12  52AE FFE4 1308          addq.l    #1,-28(A6)
08000B16  2D7C 0000 1309          move.l    #1,-32(A6)
08000B1A  0001 FFE0 
08000B1E  387C 0001 1310          move.w    #1,A4
                    1311   vsscanf_94:
08000B22  3A7C 0000 1312          move.w    #0,A5
08000B26  0C82 FFFF 1313          cmp.l     #-1,D2
08000B2A  FFFF      
08000B2C  660E      1314          bne.s     vsscanf_96
08000B2E  4A84      1315          tst.l     D4
08000B30  6704      1316          beq.s     vsscanf_98
08000B32  2004      1317          move.l    D4,D0
08000B34  6002      1318          bra.s     vsscanf_99
                    1319   vsscanf_98:
08000B36  70FF      1320          moveq     #-1,D0
                    1321   vsscanf_99:
08000B38  6000 019A 1322          bra       vsscanf_15
                    1323   vsscanf_96:
08000B3C  200A      1324          move.l    A2,D0
08000B3E  534A      1325          subq.w    #1,A2
08000B40  4A80      1326          tst.l     D0
08000B42  6700 0090 1327          beq       vsscanf_102
08000B46  0C83 0000 1328          cmp.l     #120,D3
08000B4A  0078      
08000B4C  6620      1329          bne.s     vsscanf_104
08000B4E  2F02      1330          move.l    D2,-(A7)
08000B50  6100 0A28 1331          bsr       _toupper
08000B54  584F      1332          addq.w    #4,A7
08000B56  0C80 0000 1333          cmp.l     #65,D0
08000B5A  0041      
08000B5C  6D10      1334          blt.s     vsscanf_104
08000B5E  2F02      1335          move.l    D2,-(A7)
08000B60  6100 0A18 1336          bsr       _toupper
08000B64  584F      1337          addq.w    #4,A7
08000B66  0C80 0000 1338          cmp.l     #70,D0
08000B6A  0046      
08000B6C  6F14      1339          ble.s     vsscanf_103
                    1340   vsscanf_104:
08000B6E  2042      1341          move.l    D2,A0
08000B70  43F9 0800 1342          lea       __ctype,A1
08000B74  1926      
08000B76  1030 9801 1343          move.b    1(A0,A1.L),D0
08000B7A  C03C 0004 1344          and.b     #4,D0
08000B7E  6700 0054 1345          beq       vsscanf_102
                    1346   vsscanf_103:
08000B82  2042      1347          move.l    D2,A0
08000B84  43F9 0800 1348          lea       __ctype,A1
08000B88  1926      
08000B8A  1030 9801 1349          move.b    1(A0,A1.L),D0
08000B8E  C03C 0004 1350          and.b     #4,D0
08000B92  6614      1351          bne.s     vsscanf_105
08000B94  70F9      1352          moveq     #-7,D0
08000B96  2F00      1353          move.l    D0,-(A7)
08000B98  2F02      1354          move.l    D2,-(A7)
08000B9A  6100 09DE 1355          bsr       _toupper
08000B9E  584F      1356          addq.w    #4,A7
08000BA0  2200      1357          move.l    D0,D1
08000BA2  201F      1358          move.l    (A7)+,D0
08000BA4  D081      1359          add.l     D1,D0
08000BA6  2400      1360          move.l    D0,D2
                    1361   vsscanf_105:
08000BA8  2F0D      1362          move.l    A5,-(A7)
08000BAA  2F2E FFFC 1363          move.l    -4(A6),-(A7)
08000BAE  6100 0886 1364          bsr       LMUL
08000BB2  2017      1365          move.l    (A7),D0
08000BB4  504F      1366          addq.w    #8,A7
08000BB6  D082      1367          add.l     D2,D0
08000BB8  0480 0000 1368          sub.l     #48,D0
08000BBC  0030      
08000BBE  2A40      1369          move.l    D0,A5
08000BC0  2F05      1370          move.l    D5,-(A7)
08000BC2  4E93      1371          jsr       (A3)
08000BC4  584F      1372          addq.w    #4,A7
08000BC6  2400      1373          move.l    D0,D2
08000BC8  52AE FFE4 1374          addq.l    #1,-28(A6)
08000BCC  387C 0001 1375          move.w    #1,A4
08000BD0  6000 FF6A 1376          bra       vsscanf_96
                    1377   vsscanf_102:
08000BD4  0C82 FFFF 1378          cmp.l     #-1,D2
08000BD8  FFFF      
08000BDA  671A      1379          beq.s     vsscanf_107
08000BDC  2F02      1380          move.l    D2,-(A7)
08000BDE  2F05      1381          move.l    D5,-(A7)
08000BE0  6100 F8D0 1382          bsr       @vsscanf_scanputback
08000BE4  504F      1383          addq.w    #8,A7
08000BE6  53AE FFE4 1384          subq.l    #1,-28(A6)
08000BEA  200C      1385          move.l    A4,D0
08000BEC  6606      1386          bne.s     vsscanf_109
08000BEE  2004      1387          move.l    D4,D0
08000BF0  6000 00E2 1388          bra       vsscanf_15
                    1389   vsscanf_109:
08000BF4  6012      1390          bra.s     vsscanf_111
                    1391   vsscanf_107:
08000BF6  200C      1392          move.l    A4,D0
08000BF8  660E      1393          bne.s     vsscanf_111
08000BFA  4A84      1394          tst.l     D4
08000BFC  6704      1395          beq.s     vsscanf_113
08000BFE  2004      1396          move.l    D4,D0
08000C00  6002      1397          bra.s     vsscanf_114
                    1398   vsscanf_113:
08000C02  70FF      1399          moveq     #-1,D0
                    1400   vsscanf_114:
08000C04  6000 00CE 1401          bra       vsscanf_15
                    1402   vsscanf_111:
08000C08  4AAE FFE0 1403          tst.l     -32(A6)
08000C0C  6706      1404          beq.s     vsscanf_115
08000C0E  200D      1405          move.l    A5,D0
08000C10  4480      1406          neg.l     D0
08000C12  2A40      1407          move.l    D0,A5
                    1408   vsscanf_115:
08000C14  4A86      1409          tst.l     D6
08000C16  661E      1410          bne.s     vsscanf_117
08000C18  4AAE FFE8 1411          tst.l     -24(A6)
08000C1C  6706      1412          beq.s     vsscanf_119
08000C1E  2047      1413          move.l    D7,A0
08000C20  208D      1414          move.l    A5,(A0)
08000C22  6010      1415          bra.s     vsscanf_122
                    1416   vsscanf_119:
08000C24  4AAE FFEC 1417          tst.l     -20(A6)
08000C28  6706      1418          beq.s     vsscanf_121
08000C2A  2047      1419          move.l    D7,A0
08000C2C  308D      1420          move.w    A5,(A0)
08000C2E  6004      1421          bra.s     vsscanf_122
                    1422   vsscanf_121:
08000C30  2047      1423          move.l    D7,A0
08000C32  208D      1424          move.l    A5,(A0)
                    1425   vsscanf_122:
08000C34  5284      1426          addq.l    #1,D4
                    1427   vsscanf_117:
08000C36  0C82 FFFF 1428          cmp.l     #-1,D2
08000C3A  FFFF      
08000C3C  660E      1429          bne.s     vsscanf_123
08000C3E  4A84      1430          tst.l     D4
08000C40  6704      1431          beq.s     vsscanf_125
08000C42  2004      1432          move.l    D4,D0
08000C44  6002      1433          bra.s     vsscanf_126
                    1434   vsscanf_125:
08000C46  70FF      1435          moveq     #-1,D0
                    1436   vsscanf_126:
08000C48  6000 008A 1437          bra       vsscanf_15
                    1438   vsscanf_123:
08000C4C  6000 0080 1439          bra       vsscanf_139
                    1440   vsscanf_85:
08000C50  0C83 0000 1441          cmp.l     #37,D3
08000C54  0025      
08000C56  6600 0040 1442          bne       vsscanf_127
08000C5A  2F05      1443          move.l    D5,-(A7)
08000C5C  4E93      1444          jsr       (A3)
08000C5E  584F      1445          addq.w    #4,A7
08000C60  2400      1446          move.l    D0,D2
08000C62  0C82 FFFF 1447          cmp.l     #-1,D2
08000C66  FFFF      
08000C68  660E      1448          bne.s     vsscanf_129
08000C6A  4A84      1449          tst.l     D4
08000C6C  6704      1450          beq.s     vsscanf_131
08000C6E  2004      1451          move.l    D4,D0
08000C70  6002      1452          bra.s     vsscanf_132
                    1453   vsscanf_131:
08000C72  70FF      1454          moveq     #-1,D0
                    1455   vsscanf_132:
08000C74  6000 005E 1456          bra       vsscanf_15
                    1457   vsscanf_129:
08000C78  52AE FFE4 1458          addq.l    #1,-28(A6)
08000C7C  B483      1459          cmp.l     D3,D2
08000C7E  6714      1460          beq.s     vsscanf_133
08000C80  2F02      1461          move.l    D2,-(A7)
08000C82  2F05      1462          move.l    D5,-(A7)
08000C84  6100 F82C 1463          bsr       @vsscanf_scanputback
08000C88  504F      1464          addq.w    #8,A7
08000C8A  53AE FFE4 1465          subq.l    #1,-28(A6)
08000C8E  2004      1466          move.l    D4,D0
08000C90  6000 0042 1467          bra       vsscanf_15
                    1468   vsscanf_133:
08000C94  6000 0038 1469          bra       vsscanf_139
                    1470   vsscanf_127:
08000C98  2F05      1471          move.l    D5,-(A7)
08000C9A  4E93      1472          jsr       (A3)
08000C9C  584F      1473          addq.w    #4,A7
08000C9E  2400      1474          move.l    D0,D2
08000CA0  52AE FFE4 1475          addq.l    #1,-28(A6)
08000CA4  0C82 FFFF 1476          cmp.l     #-1,D2
08000CA8  FFFF      
08000CAA  660C      1477          bne.s     vsscanf_135
08000CAC  4A84      1478          tst.l     D4
08000CAE  6704      1479          beq.s     vsscanf_137
08000CB0  2004      1480          move.l    D4,D0
08000CB2  6002      1481          bra.s     vsscanf_138
                    1482   vsscanf_137:
08000CB4  70FF      1483          moveq     #-1,D0
                    1484   vsscanf_138:
08000CB6  601C      1485          bra.s     vsscanf_15
                    1486   vsscanf_135:
08000CB8  B483      1487          cmp.l     D3,D2
08000CBA  6712      1488          beq.s     vsscanf_139
08000CBC  2F02      1489          move.l    D2,-(A7)
08000CBE  2F05      1490          move.l    D5,-(A7)
08000CC0  6100 F7F0 1491          bsr       @vsscanf_scanputback
08000CC4  504F      1492          addq.w    #8,A7
08000CC6  53AE FFE4 1493          subq.l    #1,-28(A6)
08000CCA  2004      1494          move.l    D4,D0
08000CCC  6006      1495          bra.s     vsscanf_15
                    1496   vsscanf_139:
08000CCE  6000 FA44 1497          bra       vsscanf_3
                    1498   vsscanf_5:
08000CD2  2004      1499          move.l    D4,D0
                    1500   vsscanf_15:
08000CD4  4CDF 3CFC 1501          movem.l   (A7)+,D2/D3/D4/D5/D6/D7/A2/A3/A4/A5
08000CD8  4E5E      1502          unlk      A6
08000CDA  4E75      1503          rts
                    1504   _printf:
08000CDC  4E56 FFFC 1505          link      A6,#-4
08000CE0  48E7 2000 1506          movem.l   D2,-(A7)
08000CE4  41EE 0008 1507          lea       8(A6),A0
08000CE8  5848      1508          addq.w    #4,A0
08000CEA  2408      1509          move.l    A0,D2
08000CEC  2F02      1510          move.l    D2,-(A7)
08000CEE  2F2E 0008 1511          move.l    8(A6),-(A7)
08000CF2  42A7      1512          clr.l     -(A7)
08000CF4  6100 00CA 1513          bsr       _vsprintf
08000CF8  DEFC 000C 1514          add.w     #12,A7
08000CFC  2D40 FFFC 1515          move.l    D0,-4(A6)
08000D00  4282      1516          clr.l     D2
08000D02  202E FFFC 1517          move.l    -4(A6),D0
08000D06  4CDF 0004 1518          movem.l   (A7)+,D2
08000D0A  4E5E      1519          unlk      A6
08000D0C  4E75      1520          rts
                    1521   @vsprintf_copy:
08000D0E  4E56 0000 1522          link      A6,#0
08000D12  206E 0008 1523          move.l    8(A6),A0
08000D16  4A90      1524          tst.l     (A0)
08000D18  6710      1525          beq.s     @vsprintf_copy_1
08000D1A  202E 000C 1526          move.l    12(A6),D0
08000D1E  206E 0008 1527          move.l    8(A6),A0
08000D22  2250      1528          move.l    (A0),A1
08000D24  5290      1529          addq.l    #1,(A0)
08000D26  1280      1530          move.b    D0,(A1)
08000D28  600A      1531          bra.s     @vsprintf_copy_2
                    1532   @vsprintf_copy_1:
08000D2A  2F2E 000C 1533          move.l    12(A6),-(A7)
08000D2E  6100 09F4 1534          bsr       _putch
08000D32  584F      1535          addq.w    #4,A7
                    1536   @vsprintf_copy_2:
08000D34  4E5E      1537          unlk      A6
08000D36  4E75      1538          rts
                    1539   @vsprintf_getval:
08000D38  4E56 0000 1540          link      A6,#0
08000D3C  48E7 3000 1541          movem.l   D2/D3,-(A7)
08000D40  242E 0008 1542          move.l    8(A6),D2
08000D44  4283      1543          clr.l     D3
08000D46  2042      1544          move.l    D2,A0
08000D48  2050      1545          move.l    (A0),A0
08000D4A  1010      1546          move.b    (A0),D0
08000D4C  4880      1547          ext.w     D0
08000D4E  48C0      1548          ext.l     D0
08000D50  0C80 0000 1549          cmp.l     #42,D0
08000D54  002A      
08000D56  6612      1550          bne.s     @vsprintf_getval_1
08000D58  206E 000C 1551          move.l    12(A6),A0
08000D5C  2250      1552          move.l    (A0),A1
08000D5E  5890      1553          addq.l    #4,(A0)
08000D60  2611      1554          move.l    (A1),D3
08000D62  2042      1555          move.l    D2,A0
08000D64  5290      1556          addq.l    #1,(A0)
08000D66  6000 004E 1557          bra       @vsprintf_getval_5
                    1558   @vsprintf_getval_1:
08000D6A  2042      1559          move.l    D2,A0
08000D6C  2050      1560          move.l    (A0),A0
08000D6E  1010      1561          move.b    (A0),D0
08000D70  4880      1562          ext.w     D0
08000D72  48C0      1563          ext.l     D0
08000D74  0C80 0000 1564          cmp.l     #48,D0
08000D78  0030      
08000D7A  6D00 003A 1565          blt       @vsprintf_getval_5
08000D7E  2042      1566          move.l    D2,A0
08000D80  2050      1567          move.l    (A0),A0
08000D82  1010      1568          move.b    (A0),D0
08000D84  4880      1569          ext.w     D0
08000D86  48C0      1570          ext.l     D0
08000D88  0C80 0000 1571          cmp.l     #57,D0
08000D8C  0039      
08000D8E  6E26      1572          bgt.s     @vsprintf_getval_5
08000D90  2F03      1573          move.l    D3,-(A7)
08000D92  4878 000A 1574          pea       10
08000D96  6100 069E 1575          bsr       LMUL
08000D9A  2017      1576          move.l    (A7),D0
08000D9C  504F      1577          addq.w    #8,A7
08000D9E  2042      1578          move.l    D2,A0
08000DA0  2250      1579          move.l    (A0),A1
08000DA2  5290      1580          addq.l    #1,(A0)
08000DA4  1211      1581          move.b    (A1),D1
08000DA6  4881      1582          ext.w     D1
08000DA8  48C1      1583          ext.l     D1
08000DAA  D081      1584          add.l     D1,D0
08000DAC  0480 0000 1585          sub.l     #48,D0
08000DB0  0030      
08000DB2  2600      1586          move.l    D0,D3
08000DB4  60B4      1587          bra       @vsprintf_getval_1
                    1588   @vsprintf_getval_5:
08000DB6  2003      1589          move.l    D3,D0
08000DB8  4CDF 000C 1590          movem.l   (A7)+,D2/D3
08000DBC  4E5E      1591          unlk      A6
08000DBE  4E75      1592          rts
                    1593   _vsprintf:
08000DC0  4E56 FFCC 1594          link      A6,#-52
08000DC4  48E7 3F3C 1595          movem.l   D2/D3/D4/D5/D6/D7/A2/A3/A4/A5,-(A7)
08000DC8  45EE 0008 1596          lea       8(A6),A2
08000DCC  47F9 0800 1597          lea       @vsprintf_copy,A3
08000DD0  0D0E      
08000DD2  49F9 0800 1598          lea       _ultoa,A4
08000DD6  16B0      
08000DD8  4286      1599          clr.l     D6
                    1600   vsprintf_1:
08000DDA  206E 000C 1601          move.l    12(A6),A0
08000DDE  4A10      1602          tst.b     (A0)
08000DE0  6700 0624 1603          beq       vsprintf_3
08000DE4  206E 000C 1604          move.l    12(A6),A0
08000DE8  1010      1605          move.b    (A0),D0
08000DEA  4880      1606          ext.w     D0
08000DEC  48C0      1607          ext.l     D0
08000DEE  0C80 0000 1608          cmp.l     #37,D0
08000DF2  0025      
08000DF4  671C      1609          beq.s     vsprintf_4
08000DF6  206E 000C 1610          move.l    12(A6),A0
08000DFA  52AE 000C 1611          addq.l    #1,12(A6)
08000DFE  1210      1612          move.b    (A0),D1
08000E00  4881      1613          ext.w     D1
08000E02  48C1      1614          ext.l     D1
08000E04  2F01      1615          move.l    D1,-(A7)
08000E06  2F0A      1616          move.l    A2,-(A7)
08000E08  4E93      1617          jsr       (A3)
08000E0A  504F      1618          addq.w    #8,A7
08000E0C  5286      1619          addq.l    #1,D6
08000E0E  6000 05F2 1620          bra       vsprintf_2
                    1621   vsprintf_4:
08000E12  52AE 000C 1622          addq.l    #1,12(A6)
08000E16  422E FFD3 1623          clr.b     -45(A6)
08000E1A  422E FFD2 1624          clr.b     -46(A6)
08000E1E  422E FFD0 1625          clr.b     -48(A6)
08000E22  422E FFCF 1626          clr.b     -49(A6)
08000E26  422E FFCE 1627          clr.b     -50(A6)
08000E2A  422E FFCD 1628          clr.b     -51(A6)
08000E2E  42AE FFFC 1629          clr.l     -4(A6)
08000E32  7AFF      1630          moveq     #-1,D5
08000E34  41EE FFDC 1631          lea       -36(A6),A0
08000E38  2608      1632          move.l    A0,D3
08000E3A  2408      1633          move.l    A0,D2
                    1634   vsprintf_6:
08000E3C  206E 000C 1635          move.l    12(A6),A0
08000E40  1010      1636          move.b    (A0),D0
08000E42  4880      1637          ext.w     D0
08000E44  48C0      1638          ext.l     D0
08000E46  0C80 0000 1639          cmp.l     #43,D0
08000E4A  002B      
08000E4C  6730      1640          beq.s     vsprintf_12
08000E4E  6E18      1641          bgt.s     vsprintf_15
08000E50  0C80 0000 1642          cmp.l     #35,D0
08000E54  0023      
08000E56  6700 003E 1643          beq       vsprintf_14
08000E5A  6E00 0046 1644          bgt       vsprintf_9
08000E5E  0C80 0000 1645          cmp.l     #32,D0
08000E62  0020      
08000E64  6724      1646          beq.s     vsprintf_13
08000E66  603A      1647          bra.s     vsprintf_9
                    1648   vsprintf_15:
08000E68  0C80 0000 1649          cmp.l     #45,D0
08000E6C  002D      
08000E6E  6702      1650          beq.s     vsprintf_11
08000E70  6030      1651          bra.s     vsprintf_9
                    1652   vsprintf_11:
08000E72  1D7C 0001 1653          move.b    #1,-51(A6)
08000E76  FFCD      
08000E78  52AE 000C 1654          addq.l    #1,12(A6)
08000E7C  6026      1655          bra.s     vsprintf_7
                    1656   vsprintf_12:
08000E7E  1D7C 0001 1657          move.b    #1,-50(A6)
08000E82  FFCE      
08000E84  52AE 000C 1658          addq.l    #1,12(A6)
08000E88  601A      1659          bra.s     vsprintf_7
                    1660   vsprintf_13:
08000E8A  1D7C 0001 1661          move.b    #1,-49(A6)
08000E8E  FFCF      
08000E90  52AE 000C 1662          addq.l    #1,12(A6)
08000E94  600E      1663          bra.s     vsprintf_7
                    1664   vsprintf_14:
08000E96  1D7C 0001 1665          move.b    #1,-48(A6)
08000E9A  FFD0      
08000E9C  52AE 000C 1666          addq.l    #1,12(A6)
08000EA0  6002      1667          bra.s     vsprintf_7
                    1668   vsprintf_9:
08000EA2  6002      1669          bra.s     vsprintf_8
                    1670   vsprintf_7:
08000EA4  6096      1671          bra       vsprintf_6
                    1672   vsprintf_8:
08000EA6  206E 000C 1673          move.l    12(A6),A0
08000EAA  1010      1674          move.b    (A0),D0
08000EAC  4880      1675          ext.w     D0
08000EAE  48C0      1676          ext.l     D0
08000EB0  0C80 0000 1677          cmp.l     #48,D0
08000EB4  0030      
08000EB6  660A      1678          bne.s     vsprintf_16
08000EB8  52AE 000C 1679          addq.l    #1,12(A6)
08000EBC  1D7C 0001 1680          move.b    #1,-46(A6)
08000EC0  FFD2      
                    1681   vsprintf_16:
08000EC2  486E 0010 1682          pea       16(A6)
08000EC6  486E 000C 1683          pea       12(A6)
08000ECA  6100 FE6C 1684          bsr       @vsprintf_getval
08000ECE  504F      1685          addq.w    #8,A7
08000ED0  2A40      1686          move.l    D0,A5
08000ED2  206E 000C 1687          move.l    12(A6),A0
08000ED6  1010      1688          move.b    (A0),D0
08000ED8  4880      1689          ext.w     D0
08000EDA  48C0      1690          ext.l     D0
08000EDC  0C80 0000 1691          cmp.l     #46,D0
08000EE0  002E      
08000EE2  6614      1692          bne.s     vsprintf_18
08000EE4  52AE 000C 1693          addq.l    #1,12(A6)
08000EE8  486E 0010 1694          pea       16(A6)
08000EEC  486E 000C 1695          pea       12(A6)
08000EF0  6100 FE46 1696          bsr       @vsprintf_getval
08000EF4  504F      1697          addq.w    #8,A7
08000EF6  2A00      1698          move.l    D0,D5
                    1699   vsprintf_18:
08000EF8  206E 000C 1700          move.l    12(A6),A0
08000EFC  1010      1701          move.b    (A0),D0
08000EFE  4880      1702          ext.w     D0
08000F00  48C0      1703          ext.l     D0
08000F02  0C80 0000 1704          cmp.l     #108,D0
08000F06  006C      
08000F08  660A      1705          bne.s     vsprintf_20
08000F0A  52AE 000C 1706          addq.l    #1,12(A6)
08000F0E  1D7C 0001 1707          move.b    #1,-45(A6)
08000F12  FFD3      
                    1708   vsprintf_20:
08000F14  206E 000C 1709          move.l    12(A6),A0
08000F18  1010      1710          move.b    (A0),D0
08000F1A  4880      1711          ext.w     D0
08000F1C  48C0      1712          ext.l     D0
08000F1E  0C80 0000 1713          cmp.l     #111,D0
08000F22  006F      
08000F24  6700 00D4 1714          beq       vsprintf_27
08000F28  6E34      1715          bgt.s     vsprintf_33
08000F2A  0C80 0000 1716          cmp.l     #100,D0
08000F2E  0064      
08000F30  6700 0054 1717          beq       vsprintf_24
08000F34  6E1C      1718          bgt.s     vsprintf_34
08000F36  0C80 0000 1719          cmp.l     #99,D0
08000F3A  0063      
08000F3C  6700 012C 1720          beq       vsprintf_30
08000F40  6E00 016A 1721          bgt       vsprintf_22
08000F44  0C80 0000 1722          cmp.l     #88,D0
08000F48  0058      
08000F4A  6700 00E6 1723          beq       vsprintf_28
08000F4E  6000 015C 1724          bra       vsprintf_22
                    1725   vsprintf_34:
08000F52  0C80 0000 1726          cmp.l     #105,D0
08000F56  0069      
08000F58  672C      1727          beq.s     vsprintf_24
08000F5A  6000 0150 1728          bra       vsprintf_22
                    1729   vsprintf_33:
08000F5E  0C80 0000 1730          cmp.l     #117,D0
08000F62  0075      
08000F64  6700 005C 1731          beq       vsprintf_26
08000F68  6E0E      1732          bgt.s     vsprintf_35
08000F6A  0C80 0000 1733          cmp.l     #115,D0
08000F6E  0073      
08000F70  6700 011C 1734          beq       vsprintf_31
08000F74  6000 0136 1735          bra       vsprintf_22
                    1736   vsprintf_35:
08000F78  0C80 0000 1737          cmp.l     #120,D0
08000F7C  0078      
08000F7E  6700 00B2 1738          beq       vsprintf_28
08000F82  6000 0128 1739          bra       vsprintf_22
                    1740   vsprintf_24:
08000F86  4A2E FFD3 1741          tst.b     -45(A6)
08000F8A  671A      1742          beq.s     vsprintf_36
08000F8C  4878 000A 1743          pea       10
08000F90  2F03      1744          move.l    D3,-(A7)
08000F92  206E 0010 1745          move.l    16(A6),A0
08000F96  58AE 0010 1746          addq.l    #4,16(A6)
08000F9A  2F10      1747          move.l    (A0),-(A7)
08000F9C  6100 068E 1748          bsr       _ltoa
08000FA0  DEFC 000C 1749          add.w     #12,A7
08000FA4  6018      1750          bra.s     vsprintf_37
                    1751   vsprintf_36:
08000FA6  4878 000A 1752          pea       10
08000FAA  2F03      1753          move.l    D3,-(A7)
08000FAC  206E 0010 1754          move.l    16(A6),A0
08000FB0  58AE 0010 1755          addq.l    #4,16(A6)
08000FB4  2F10      1756          move.l    (A0),-(A7)
08000FB6  6100 0674 1757          bsr       _ltoa
08000FBA  DEFC 000C 1758          add.w     #12,A7
                    1759   vsprintf_37:
08000FBE  6000 00FA 1760          bra       vsprintf_23
                    1761   vsprintf_26:
08000FC2  4A2E FFD3 1762          tst.b     -45(A6)
08000FC6  6718      1763          beq.s     vsprintf_38
08000FC8  4878 000A 1764          pea       10
08000FCC  2F03      1765          move.l    D3,-(A7)
08000FCE  206E 0010 1766          move.l    16(A6),A0
08000FD2  58AE 0010 1767          addq.l    #4,16(A6)
08000FD6  2F10      1768          move.l    (A0),-(A7)
08000FD8  4E94      1769          jsr       (A4)
08000FDA  DEFC 000C 1770          add.w     #12,A7
08000FDE  6016      1771          bra.s     vsprintf_39
                    1772   vsprintf_38:
08000FE0  4878 000A 1773          pea       10
08000FE4  2F03      1774          move.l    D3,-(A7)
08000FE6  206E 0010 1775          move.l    16(A6),A0
08000FEA  58AE 0010 1776          addq.l    #4,16(A6)
08000FEE  2F10      1777          move.l    (A0),-(A7)
08000FF0  4E94      1778          jsr       (A4)
08000FF2  DEFC 000C 1779          add.w     #12,A7
                    1780   vsprintf_39:
08000FF6  6000 00C2 1781          bra       vsprintf_23
                    1782   vsprintf_27:
08000FFA  4A2E FFD3 1783          tst.b     -45(A6)
08000FFE  6718      1784          beq.s     vsprintf_40
08001000  4878 0008 1785          pea       8
08001004  2F03      1786          move.l    D3,-(A7)
08001006  206E 0010 1787          move.l    16(A6),A0
0800100A  58AE 0010 1788          addq.l    #4,16(A6)
0800100E  2F10      1789          move.l    (A0),-(A7)
08001010  4E94      1790          jsr       (A4)
08001012  DEFC 000C 1791          add.w     #12,A7
08001016  6016      1792          bra.s     vsprintf_41
                    1793   vsprintf_40:
08001018  4878 0008 1794          pea       8
0800101C  2F03      1795          move.l    D3,-(A7)
0800101E  206E 0010 1796          move.l    16(A6),A0
08001022  58AE 0010 1797          addq.l    #4,16(A6)
08001026  2F10      1798          move.l    (A0),-(A7)
08001028  4E94      1799          jsr       (A4)
0800102A  DEFC 000C 1800          add.w     #12,A7
                    1801   vsprintf_41:
0800102E  6000 008A 1802          bra       vsprintf_23
                    1803   vsprintf_28:
08001032  4A2E FFD3 1804          tst.b     -45(A6)
08001036  6718      1805          beq.s     vsprintf_42
08001038  4878 0010 1806          pea       16
0800103C  2F03      1807          move.l    D3,-(A7)
0800103E  206E 0010 1808          move.l    16(A6),A0
08001042  58AE 0010 1809          addq.l    #4,16(A6)
08001046  2F10      1810          move.l    (A0),-(A7)
08001048  4E94      1811          jsr       (A4)
0800104A  DEFC 000C 1812          add.w     #12,A7
0800104E  6016      1813          bra.s     vsprintf_43
                    1814   vsprintf_42:
08001050  4878 0010 1815          pea       16
08001054  2F03      1816          move.l    D3,-(A7)
08001056  206E 0010 1817          move.l    16(A6),A0
0800105A  58AE 0010 1818          addq.l    #4,16(A6)
0800105E  2F10      1819          move.l    (A0),-(A7)
08001060  4E94      1820          jsr       (A4)
08001062  DEFC 000C 1821          add.w     #12,A7
                    1822   vsprintf_43:
08001066  6000 0052 1823          bra       vsprintf_23
                    1824   vsprintf_30:
0800106A  206E 0010 1825          move.l    16(A6),A0
0800106E  58AE 0010 1826          addq.l    #4,16(A6)
08001072  2010      1827          move.l    (A0),D0
08001074  2042      1828          move.l    D2,A0
08001076  5282      1829          addq.l    #1,D2
08001078  1080      1830          move.b    D0,(A0)
0800107A  2042      1831          move.l    D2,A0
0800107C  4210      1832          clr.b     (A0)
0800107E  200D      1833          move.l    A5,D0
08001080  6704      1834          beq.s     vsprintf_44
08001082  200D      1835          move.l    A5,D0
08001084  6002      1836          bra.s     vsprintf_45
                    1837   vsprintf_44:
08001086  7001      1838          moveq     #1,D0
                    1839   vsprintf_45:
08001088  2A00      1840          move.l    D0,D5
0800108A  6000 002E 1841          bra       vsprintf_23
                    1842   vsprintf_31:
0800108E  206E 0010 1843          move.l    16(A6),A0
08001092  58AE 0010 1844          addq.l    #4,16(A6)
08001096  2610      1845          move.l    (A0),D3
08001098  0C85 FFFF 1846          cmp.l     #-1,D5
0800109C  FFFF      
0800109E  660A      1847          bne.s     vsprintf_46
080010A0  2F03      1848          move.l    D3,-(A7)
080010A2  6100 066E 1849          bsr       _strlen
080010A6  584F      1850          addq.w    #4,A7
080010A8  2A00      1851          move.l    D0,D5
                    1852   vsprintf_46:
080010AA  600E      1853          bra.s     vsprintf_23
                    1854   vsprintf_22:
080010AC  206E 000C 1855          move.l    12(A6),A0
080010B0  2242      1856          move.l    D2,A1
080010B2  5282      1857          addq.l    #1,D2
080010B4  1290      1858          move.b    (A0),(A1)
080010B6  2042      1859          move.l    D2,A0
080010B8  4210      1860          clr.b     (A0)
                    1861   vsprintf_23:
080010BA  2F03      1862          move.l    D3,-(A7)
080010BC  6100 0654 1863          bsr       _strlen
080010C0  584F      1864          addq.w    #4,A7
080010C2  1800      1865          move.b    D0,D4
080010C4  206E 000C 1866          move.l    12(A6),A0
080010C8  1010      1867          move.b    (A0),D0
080010CA  4880      1868          ext.w     D0
080010CC  48C0      1869          ext.l     D0
080010CE  0C80 0000 1870          cmp.l     #115,D0
080010D2  0073      
080010D4  6618      1871          bne.s     vsprintf_48
080010D6  0C85 0000 1872          cmp.l     #0,D5
080010DA  0000      
080010DC  6D10      1873          blt.s     vsprintf_48
080010DE  4884      1874          ext.w     D4
080010E0  48C4      1875          ext.l     D4
080010E2  B885      1876          cmp.l     D5,D4
080010E4  6F04      1877          ble.s     vsprintf_50
080010E6  1005      1878          move.b    D5,D0
080010E8  6002      1879          bra.s     vsprintf_51
                    1880   vsprintf_50:
080010EA  1004      1881          move.b    D4,D0
                    1882   vsprintf_51:
080010EC  1800      1883          move.b    D0,D4
                    1884   vsprintf_48:
080010EE  206E 000C 1885          move.l    12(A6),A0
080010F2  1010      1886          move.b    (A0),D0
080010F4  4880      1887          ext.w     D0
080010F6  48C0      1888          ext.l     D0
080010F8  0C80 0000 1889          cmp.l     #88,D0
080010FC  0058      
080010FE  6600 0026 1890          bne       vsprintf_56
08001102  41EE FFDC 1891          lea       -36(A6),A0
08001106  2408      1892          move.l    A0,D2
                    1893   vsprintf_54:
08001108  2042      1894          move.l    D2,A0
0800110A  4A10      1895          tst.b     (A0)
0800110C  6718      1896          beq.s     vsprintf_56
0800110E  2042      1897          move.l    D2,A0
08001110  1210      1898          move.b    (A0),D1
08001112  4881      1899          ext.w     D1
08001114  48C1      1900          ext.l     D1
08001116  2F01      1901          move.l    D1,-(A7)
08001118  6100 0460 1902          bsr       _toupper
0800111C  584F      1903          addq.w    #4,A7
0800111E  2042      1904          move.l    D2,A0
08001120  1080      1905          move.b    D0,(A0)
08001122  5282      1906          addq.l    #1,D2
08001124  60E2      1907          bra       vsprintf_54
                    1908   vsprintf_56:
08001126  7E00      1909          moveq     #0,D7
08001128  41EE FFD4 1910          lea       -44(A6),A0
0800112C  2408      1911          move.l    A0,D2
0800112E  206E 000C 1912          move.l    12(A6),A0
08001132  1010      1913          move.b    (A0),D0
08001134  4880      1914          ext.w     D0
08001136  48C0      1915          ext.l     D0
08001138  0C80 0000 1916          cmp.l     #100,D0
0800113C  0064      
0800113E  6714      1917          beq.s     vsprintf_59
08001140  206E 000C 1918          move.l    12(A6),A0
08001144  1010      1919          move.b    (A0),D0
08001146  4880      1920          ext.w     D0
08001148  48C0      1921          ext.l     D0
0800114A  0C80 0000 1922          cmp.l     #105,D0
0800114E  0069      
08001150  6600 0076 1923          bne       vsprintf_65
                    1924   vsprintf_59:
08001154  4A2E FFCE 1925          tst.b     -50(A6)
08001158  6612      1926          bne.s     vsprintf_62
0800115A  2043      1927          move.l    D3,A0
0800115C  1010      1928          move.b    (A0),D0
0800115E  4880      1929          ext.w     D0
08001160  48C0      1930          ext.l     D0
08001162  0C80 0000 1931          cmp.l     #45,D0
08001166  002D      
08001168  6600 002E 1932          bne       vsprintf_60
                    1933   vsprintf_62:
0800116C  2043      1934          move.l    D3,A0
0800116E  1010      1935          move.b    (A0),D0
08001170  4880      1936          ext.w     D0
08001172  48C0      1937          ext.l     D0
08001174  0C80 0000 1938          cmp.l     #45,D0
08001178  002D      
0800117A  660E      1939          bne.s     vsprintf_63
0800117C  2043      1940          move.l    D3,A0
0800117E  5283      1941          addq.l    #1,D3
08001180  2242      1942          move.l    D2,A1
08001182  5282      1943          addq.l    #1,D2
08001184  1290      1944          move.b    (A0),(A1)
08001186  5304      1945          subq.b    #1,D4
08001188  6008      1946          bra.s     vsprintf_64
                    1947   vsprintf_63:
0800118A  2042      1948          move.l    D2,A0
0800118C  5282      1949          addq.l    #1,D2
0800118E  10BC 002B 1950          move.b    #43,(A0)
                    1951   vsprintf_64:
08001192  5287      1952          addq.l    #1,D7
08001194  6000 0032 1953          bra       vsprintf_65
                    1954   vsprintf_60:
08001198  4A2E FFCF 1955          tst.b     -49(A6)
0800119C  6700 002A 1956          beq       vsprintf_65
080011A0  2043      1957          move.l    D3,A0
080011A2  1010      1958          move.b    (A0),D0
080011A4  4880      1959          ext.w     D0
080011A6  48C0      1960          ext.l     D0
080011A8  0C80 0000 1961          cmp.l     #45,D0
080011AC  002D      
080011AE  660E      1962          bne.s     vsprintf_67
080011B0  2043      1963          move.l    D3,A0
080011B2  5283      1964          addq.l    #1,D3
080011B4  2242      1965          move.l    D2,A1
080011B6  5282      1966          addq.l    #1,D2
080011B8  1290      1967          move.b    (A0),(A1)
080011BA  5304      1968          subq.b    #1,D4
080011BC  6008      1969          bra.s     vsprintf_68
                    1970   vsprintf_67:
080011BE  2042      1971          move.l    D2,A0
080011C0  5282      1972          addq.l    #1,D2
080011C2  10BC 0020 1973          move.b    #32,(A0)
                    1974   vsprintf_68:
080011C6  5287      1975          addq.l    #1,D7
                    1976   vsprintf_65:
080011C8  4A2E FFD0 1977          tst.b     -48(A6)
080011CC  6700 0066 1978          beq       vsprintf_77
080011D0  206E 000C 1979          move.l    12(A6),A0
080011D4  1010      1980          move.b    (A0),D0
080011D6  4880      1981          ext.w     D0
080011D8  48C0      1982          ext.l     D0
080011DA  0C80 0000 1983          cmp.l     #111,D0
080011DE  006F      
080011E0  671A      1984          beq.s     vsprintf_73
080011E2  6E0C      1985          bgt.s     vsprintf_76
080011E4  0C80 0000 1986          cmp.l     #88,D0
080011E8  0058      
080011EA  6710      1987          beq.s     vsprintf_73
080011EC  6000 0046 1988          bra       vsprintf_77
                    1989   vsprintf_76:
080011F0  0C80 0000 1990          cmp.l     #120,D0
080011F4  0078      
080011F6  6704      1991          beq.s     vsprintf_73
080011F8  6000 003A 1992          bra       vsprintf_77
                    1993   vsprintf_73:
080011FC  2042      1994          move.l    D2,A0
080011FE  5282      1995          addq.l    #1,D2
08001200  10BC 0030 1996          move.b    #48,(A0)
08001204  5287      1997          addq.l    #1,D7
08001206  206E 000C 1998          move.l    12(A6),A0
0800120A  1010      1999          move.b    (A0),D0
0800120C  4880      2000          ext.w     D0
0800120E  48C0      2001          ext.l     D0
08001210  0C80 0000 2002          cmp.l     #120,D0
08001214  0078      
08001216  6712      2003          beq.s     vsprintf_79
08001218  206E 000C 2004          move.l    12(A6),A0
0800121C  1010      2005          move.b    (A0),D0
0800121E  4880      2006          ext.w     D0
08001220  48C0      2007          ext.l     D0
08001222  0C80 0000 2008          cmp.l     #88,D0
08001226  0058      
08001228  660A      2009          bne.s     vsprintf_77
                    2010   vsprintf_79:
0800122A  2042      2011          move.l    D2,A0
0800122C  5282      2012          addq.l    #1,D2
0800122E  10BC 0078 2013          move.b    #120,(A0)
08001232  5287      2014          addq.l    #1,D7
                    2015   vsprintf_77:
08001234  2042      2016          move.l    D2,A0
08001236  4210      2017          clr.b     (A0)
08001238  206E 000C 2018          move.l    12(A6),A0
0800123C  1010      2019          move.b    (A0),D0
0800123E  4880      2020          ext.w     D0
08001240  48C0      2021          ext.l     D0
08001242  0C80 0000 2022          cmp.l     #105,D0
08001246  0069      
08001248  6700 0076 2023          beq       vsprintf_82
0800124C  6E42      2024          bgt.s     vsprintf_93
0800124E  0C80 0000 2025          cmp.l     #99,D0
08001252  0063      
08001254  6700 0084 2026          beq       vsprintf_96
08001258  6E1C      2027          bgt.s     vsprintf_94
0800125A  0C80 0000 2028          cmp.l     #88,D0
0800125E  0058      
08001260  6700 005E 2029          beq       vsprintf_82
08001264  6E00 0184 2030          bgt       vsprintf_80
08001268  0C80 0000 2031          cmp.l     #69,D0
0800126C  0045      
0800126E  6700 0050 2032          beq       vsprintf_82
08001272  6000 0176 2033          bra       vsprintf_80
                    2034   vsprintf_94:
08001276  0C80 0000 2035          cmp.l     #101,D0
0800127A  0065      
0800127C  6700 0042 2036          beq       vsprintf_82
08001280  6E00 0168 2037          bgt       vsprintf_80
08001284  0C80 0000 2038          cmp.l     #100,D0
08001288  0064      
0800128A  6734      2039          beq.s     vsprintf_82
0800128C  6000 015C 2040          bra       vsprintf_80
                    2041   vsprintf_93:
08001290  0C80 0000 2042          cmp.l     #117,D0
08001294  0075      
08001296  6728      2043          beq.s     vsprintf_82
08001298  6E1A      2044          bgt.s     vsprintf_95
0800129A  0C80 0000 2045          cmp.l     #115,D0
0800129E  0073      
080012A0  6700 0038 2046          beq       vsprintf_96
080012A4  6E00 0144 2047          bgt       vsprintf_80
080012A8  0C80 0000 2048          cmp.l     #111,D0
080012AC  006F      
080012AE  6710      2049          beq.s     vsprintf_82
080012B0  6000 0138 2050          bra       vsprintf_80
                    2051   vsprintf_95:
080012B4  0C80 0000 2052          cmp.l     #120,D0
080012B8  0078      
080012BA  6704      2053          beq.s     vsprintf_82
080012BC  6000 012C 2054          bra       vsprintf_80
                    2055   vsprintf_82:
080012C0  4A2E FFD2 2056          tst.b     -46(A6)
080012C4  6714      2057          beq.s     vsprintf_96
080012C6  4A2E FFCD 2058          tst.b     -51(A6)
080012CA  660E      2059          bne.s     vsprintf_96
080012CC  200D      2060          move.l    A5,D0
080012CE  9087      2061          sub.l     D7,D0
080012D0  4884      2062          ext.w     D4
080012D2  48C4      2063          ext.l     D4
080012D4  9084      2064          sub.l     D4,D0
080012D6  2D40 FFFC 2065          move.l    D0,-4(A6)
                    2066   vsprintf_96:
080012DA  202E FFFC 2067          move.l    -4(A6),D0
080012DE  0C80 0000 2068          cmp.l     #0,D0
080012E2  0000      
080012E4  6C04      2069          bge.s     vsprintf_98
080012E6  42AE FFFC 2070          clr.l     -4(A6)
                    2071   vsprintf_98:
080012EA  4A2E FFCD 2072          tst.b     -51(A6)
080012EE  6600 0030 2073          bne       vsprintf_104
080012F2  4884      2074          ext.w     D4
080012F4  48C4      2075          ext.l     D4
080012F6  2004      2076          move.l    D4,D0
080012F8  D0AE FFFC 2077          add.l     -4(A6),D0
080012FC  D087      2078          add.l     D7,D0
080012FE  1D40 FFD1 2079          move.b    D0,-47(A6)
                    2080   vsprintf_102:
08001302  102E FFD1 2081          move.b    -47(A6),D0
08001306  4880      2082          ext.w     D0
08001308  48C0      2083          ext.l     D0
0800130A  220D      2084          move.l    A5,D1
0800130C  534D      2085          subq.w    #1,A5
0800130E  B081      2086          cmp.l     D1,D0
08001310  6C0E      2087          bge.s     vsprintf_104
08001312  4878 0020 2088          pea       32
08001316  2F0A      2089          move.l    A2,-(A7)
08001318  4E93      2090          jsr       (A3)
0800131A  504F      2091          addq.w    #8,A7
0800131C  5286      2092          addq.l    #1,D6
0800131E  60E2      2093          bra       vsprintf_102
                    2094   vsprintf_104:
08001320  41EE FFD4 2095          lea       -44(A6),A0
08001324  2408      2096          move.l    A0,D2
                    2097   vsprintf_105:
08001326  2042      2098          move.l    D2,A0
08001328  4A10      2099          tst.b     (A0)
0800132A  6716      2100          beq.s     vsprintf_107
0800132C  2042      2101          move.l    D2,A0
0800132E  5282      2102          addq.l    #1,D2
08001330  1210      2103          move.b    (A0),D1
08001332  4881      2104          ext.w     D1
08001334  48C1      2105          ext.l     D1
08001336  2F01      2106          move.l    D1,-(A7)
08001338  2F0A      2107          move.l    A2,-(A7)
0800133A  4E93      2108          jsr       (A3)
0800133C  504F      2109          addq.w    #8,A7
0800133E  5286      2110          addq.l    #1,D6
08001340  60E4      2111          bra       vsprintf_105
                    2112   vsprintf_107:
08001342  202E FFFC 2113          move.l    -4(A6),D0
08001346  1D40 FFD1 2114          move.b    D0,-47(A6)
                    2115   vsprintf_108:
0800134A  102E FFD1 2116          move.b    -47(A6),D0
0800134E  532E FFD1 2117          subq.b    #1,-47(A6)
08001352  4A00      2118          tst.b     D0
08001354  670E      2119          beq.s     vsprintf_110
08001356  4878 0030 2120          pea       48
0800135A  2F0A      2121          move.l    A2,-(A7)
0800135C  4E93      2122          jsr       (A3)
0800135E  504F      2123          addq.w    #8,A7
08001360  5286      2124          addq.l    #1,D6
08001362  60E6      2125          bra       vsprintf_108
                    2126   vsprintf_110:
08001364  2043      2127          move.l    D3,A0
08001366  4A10      2128          tst.b     (A0)
08001368  6700 0048 2129          beq       vsprintf_113
0800136C  206E 000C 2130          move.l    12(A6),A0
08001370  1010      2131          move.b    (A0),D0
08001372  4880      2132          ext.w     D0
08001374  48C0      2133          ext.l     D0
08001376  0C80 0000 2134          cmp.l     #115,D0
0800137A  0073      
0800137C  670C      2135          beq.s     vsprintf_116
0800137E  6E18      2136          bgt.s     vsprintf_119
08001380  0C80 0000 2137          cmp.l     #99,D0
08001384  0063      
08001386  6702      2138          beq.s     vsprintf_116
08001388  600E      2139          bra.s     vsprintf_119
                    2140   vsprintf_116:
0800138A  2005      2141          move.l    D5,D0
0800138C  5385      2142          subq.l    #1,D5
0800138E  0C80 0000 2143          cmp.l     #0,D0
08001392  0000      
08001394  6E02      2144          bgt.s     vsprintf_119
08001396  6016      2145          bra.s     vsprintf_115
                    2146   vsprintf_119:
08001398  2043      2147          move.l    D3,A0
0800139A  5283      2148          addq.l    #1,D3
0800139C  1210      2149          move.b    (A0),D1
0800139E  4881      2150          ext.w     D1
080013A0  48C1      2151          ext.l     D1
080013A2  2F01      2152          move.l    D1,-(A7)
080013A4  2F0A      2153          move.l    A2,-(A7)
080013A6  4E93      2154          jsr       (A3)
080013A8  504F      2155          addq.w    #8,A7
080013AA  5286      2156          addq.l    #1,D6
080013AC  6002      2157          bra.s     vsprintf_112
                    2158   vsprintf_115:
080013AE  6002      2159          bra.s     vsprintf_113
                    2160   vsprintf_112:
080013B0  60B2      2161          bra       vsprintf_110
                    2162   vsprintf_113:
080013B2  4A2E FFCD 2163          tst.b     -51(A6)
080013B6  6700 0030 2164          beq       vsprintf_125
080013BA  4884      2165          ext.w     D4
080013BC  48C4      2166          ext.l     D4
080013BE  2004      2167          move.l    D4,D0
080013C0  D0AE FFFC 2168          add.l     -4(A6),D0
080013C4  D087      2169          add.l     D7,D0
080013C6  1D40 FFD1 2170          move.b    D0,-47(A6)
                    2171   vsprintf_123:
080013CA  102E FFD1 2172          move.b    -47(A6),D0
080013CE  4880      2173          ext.w     D0
080013D0  48C0      2174          ext.l     D0
080013D2  220D      2175          move.l    A5,D1
080013D4  534D      2176          subq.w    #1,A5
080013D6  B081      2177          cmp.l     D1,D0
080013D8  6C0E      2178          bge.s     vsprintf_125
080013DA  4878 0020 2179          pea       32
080013DE  2F0A      2180          move.l    A2,-(A7)
080013E0  4E93      2181          jsr       (A3)
080013E2  504F      2182          addq.w    #8,A7
080013E4  5386      2183          subq.l    #1,D6
080013E6  60E2      2184          bra       vsprintf_123
                    2185   vsprintf_125:
080013E8  6014      2186          bra.s     vsprintf_81
                    2187   vsprintf_80:
080013EA  206E 000C 2188          move.l    12(A6),A0
080013EE  1210      2189          move.b    (A0),D1
080013F0  4881      2190          ext.w     D1
080013F2  48C1      2191          ext.l     D1
080013F4  2F01      2192          move.l    D1,-(A7)
080013F6  2F0A      2193          move.l    A2,-(A7)
080013F8  4E93      2194          jsr       (A3)
080013FA  504F      2195          addq.w    #8,A7
080013FC  5286      2196          addq.l    #1,D6
                    2197   vsprintf_81:
080013FE  52AE 000C 2198          addq.l    #1,12(A6)
                    2199   vsprintf_2:
08001402  6000 F9D6 2200          bra       vsprintf_1
                    2201   vsprintf_3:
08001406  4A92      2202          tst.l     (A2)
08001408  6710      2203          beq.s     vsprintf_126
0800140A  4201      2204          clr.b     D1
0800140C  C2BC 0000 2205          and.l     #255,D1
08001410  00FF      
08001412  2F01      2206          move.l    D1,-(A7)
08001414  2F0A      2207          move.l    A2,-(A7)
08001416  4E93      2208          jsr       (A3)
08001418  504F      2209          addq.w    #8,A7
                    2210   vsprintf_126:
0800141A  2006      2211          move.l    D6,D0
0800141C  4CDF 3CFC 2212          movem.l   (A7)+,D2/D3/D4/D5/D6/D7/A2/A3/A4/A5
08001420  4E5E      2213          unlk      A6
08001422  4E75      2214          rts
                    2215   ULMUL:
08001424  4E56 0000 2216          link    A6,#0
08001428  48E7 C000 2217          movem.l D0/D1,-(A7)
0800142C  222E 0008 2218          move.l  8(A6),D1
08001430  202E 000C 2219          move.l  12(A6),D0
08001434  602C      2220          bra.s   lmul_3
                    2221   LMUL:
08001436  4E56 0000 2222          link    A6,#0
0800143A  48E7 C000 2223          movem.l D0/D1,-(A7)
0800143E  222E 0008 2224          move.l  8(A6),D1
08001442  202E 000C 2225          move.l  12(A6),D0
08001446  4A80      2226          tst.l   D0
08001448  6A0A      2227          bpl.s   lmul_1
0800144A  4480      2228          neg.l   D0
0800144C  4A81      2229          tst.l   D1
0800144E  6A0A      2230          bpl.s   lmul_2
08001450  4481      2231          neg.l   D1
08001452  600E      2232          bra.s   lmul_3
                    2233   lmul_1:
08001454  4A81      2234          tst.l   D1
08001456  6A0A      2235          bpl.s   lmul_3
08001458  4481      2236          neg.l   D1
                    2237   lmul_2:
0800145A  6114      2238          bsr.s   domul
0800145C  4481      2239          neg.l   D1
0800145E  4080      2240          negx.l  D0
08001460  6002      2241          bra.s   lmul_4
                    2242   lmul_3:
08001462  610C      2243          bsr.s   domul
                    2244   lmul_4:
08001464  2D41 0008 2245          move.l  D1,8(A6)
08001468  4CDF 0003 2246          movem.l (A7)+,D0/D1
0800146C  4E5E      2247          unlk    A6
0800146E  4E75      2248          rts
                    2249   domul:
08001470  0C81 0000 2250          cmpi.l  #$FFFF,D1
08001474  FFFF      
08001476  620C      2251          bhi.s   domul_1
08001478  0C80 0000 2252          cmpi.l  #$FFFF,D0
0800147C  FFFF      
0800147E  620E      2253          bhi.s   domul_2
08001480  C2C0      2254          mulu    D0,D1
08001482  4E75      2255          rts
                    2256   domul_1:
08001484  0C80 0000 2257          cmpi.l  #$FFFF,D0
08001488  FFFF      
0800148A  6218      2258          bhi.s   domul_4
0800148C  6002      2259          bra.s   domul_3
                    2260   domul_2
0800148E  C141      2261          exg     D0,D1
                    2262   domul_3:
08001490  2F02      2263          move.l  D2,-(A7)
08001492  2401      2264          move.l  D1,D2
08001494  4842      2265          swap    D2
08001496  C2C0      2266          mulu    D0,D1
08001498  C4C0      2267          mulu    D0,D2
0800149A  4842      2268          swap    D2
0800149C  4242      2269          clr.w   D2
0800149E  D282      2270          add.l   D2,D1
080014A0  241F      2271          move.l  (A7)+,D2
080014A2  4E75      2272          rts
                    2273   domul_4:
080014A4  48E7 3000 2274          movem.l D2/D3,-(A7)
080014A8  2401      2275          move.l  D1,D2
080014AA  2601      2276          move.l  D1,D3
080014AC  C2C0      2277          mulu    D0,D1
080014AE  4842      2278          swap    D2
080014B0  C4C0      2279          mulu    D0,D2
080014B2  4840      2280          swap    D0
080014B4  C6C0      2281          mulu    D0,D3
080014B6  D483      2282          add.l   D3,D2
080014B8  4842      2283          swap    D2
080014BA  4242      2284          clr.w   D2
080014BC  D282      2285          add.l   D2,D1
080014BE  4CDF 000C 2286          movem.l (A7)+,D2/D3
080014C2  4E75      2287          rts
                    2288   _gets:
080014C4  4E56 0000 2289          link      A6,#0
080014C8  48E7 3820 2290          movem.l   D2/D3/D4/A2,-(A7)
080014CC  45F9 0800 2291          lea       _putch,A2
080014D0  1724      
080014D2  282E 0008 2292          move.l    8(A6),D4
080014D6  2404      2293          move.l    D4,D2
                    2294   gets_1:
080014D8  6100 027A 2295          bsr       _getch
080014DC  2600      2296          move.l    D0,D3
080014DE  0C80 0000 2297          cmp.l     #10,D0
080014E2  000A      
080014E4  6700 003C 2298          beq       gets_3
080014E8  0C83 0000 2299          cmp.l     #8,D3
080014EC  0008      
080014EE  6712      2300          beq.s     gets_4
080014F0  2042      2301          move.l    D2,A0
080014F2  5282      2302          addq.l    #1,D2
080014F4  1083      2303          move.b    D3,(A0)
080014F6  4883      2304          ext.w     D3
080014F8  48C3      2305          ext.l     D3
080014FA  2F03      2306          move.l    D3,-(A7)
080014FC  4E92      2307          jsr       (A2)
080014FE  584F      2308          addq.w    #4,A7
08001500  601E      2309          bra.s     gets_6
                    2310   gets_4:
08001502  B484      2311          cmp.l     D4,D2
08001504  631A      2312          bls.s     gets_6
08001506  4878 0008 2313          pea       8
0800150A  4E92      2314          jsr       (A2)
0800150C  584F      2315          addq.w    #4,A7
0800150E  4878 0020 2316          pea       32
08001512  4E92      2317          jsr       (A2)
08001514  584F      2318          addq.w    #4,A7
08001516  4878 0008 2319          pea       8
0800151A  4E92      2320          jsr       (A2)
0800151C  584F      2321          addq.w    #4,A7
0800151E  5382      2322          subq.l    #1,D2
                    2323   gets_6:
08001520  60B6      2324          bra       gets_1
                    2325   gets_3:
08001522  4878 000A 2326          pea       10
08001526  4E92      2327          jsr       (A2)
08001528  584F      2328          addq.w    #4,A7
0800152A  2042      2329          move.l    D2,A0
0800152C  4210      2330          clr.b     (A0)
0800152E  2004      2331          move.l    D4,D0
08001530  4CDF 041C 2332          movem.l   (A7)+,D2/D3/D4/A2
08001534  4E5E      2333          unlk      A6
08001536  4E75      2334          rts
                    2335   _tolower:
08001538  4E56 0000 2336          link      A6,#0
0800153C  48E7 2000 2337          movem.l   D2,-(A7)
08001540  242E 0008 2338          move.l    8(A6),D2
08001544  0C82 0000 2339          cmp.l     #65,D2
08001548  0041      
0800154A  6D0E      2340          blt.s     tolower_1
0800154C  0C82 0000 2341          cmp.l     #90,D2
08001550  005A      
08001552  6E06      2342          bgt.s     tolower_1
08001554  84BC 0000 2343          or.l      #32,D2
08001558  0020      
                    2344   tolower_1:
0800155A  2002      2345          move.l    D2,D0
0800155C  4CDF 0004 2346          movem.l   (A7)+,D2
08001560  4E5E      2347          unlk      A6
08001562  4E75      2348          rts
                    2349   _strcat:
08001564  206F 0004 2350          move.l    (4,A7),A0	
08001568  226F 0008 2351          move.l    (8,A7),A1	
0800156C  2008      2352          move.l    A0,D0		
                    2353   strcat_0:
0800156E  4A18      2354          tst.b     (A0)+
08001570  66FC      2355          bne       strcat_0
08001572  5348      2356          subq      #1,A0
                    2357   strcat_1:
08001574  10D9      2358          move.b    (A1)+,(A0)+
08001576  66FC      2359          bne       strcat_1
08001578  4E75      2360          rts
                    2361   _toupper:
0800157A  4E56 0000 2362          link      A6,#0
0800157E  48E7 2000 2363          movem.l   D2,-(A7)
08001582  242E 0008 2364          move.l    8(A6),D2
08001586  0C82 0000 2365          cmp.l     #97,D2
0800158A  0061      
0800158C  6D0E      2366          blt.s     toupper_1
0800158E  0C82 0000 2367          cmp.l     #122,D2
08001592  007A      
08001594  6E06      2368          bgt.s     toupper_1
08001596  C4BC 0000 2369          and.l     #95,D2
0800159A  005F      
                    2370   toupper_1:
0800159C  2002      2371          move.l    D2,D0
0800159E  4CDF 0004 2372          movem.l   (A7)+,D2
080015A2  4E5E      2373          unlk      A6
080015A4  4E75      2374          rts
                    2375   _ungetch:
080015A6  4E56 0000 2376          link      A6,#0
080015AA  23EE 0008 2377          move.l    8(A6),__ungetbuf
080015AE  0800 1914 
080015B2  202E 0008 2378          move.l    8(A6),D0
080015B6  4E5E      2379          unlk      A6
080015B8  4E75      2380          rts
                    2381   @itoa_convert:
080015BA  4E56 0000 2382          link      A6,#0
080015BE  48E7 3C00 2383          movem.l   D2/D3/D4/D5,-(A7)
080015C2  242E 0008 2384          move.l    8(A6),D2
080015C6  262E 0010 2385          move.l    16(A6),D3
080015CA  2A2E 000C 2386          move.l    12(A6),D5
080015CE  2F05      2387          move.l    D5,-(A7)
080015D0  2F03      2388          move.l    D3,-(A7)
080015D2  6100 01CC 2389          bsr       ULDIV
080015D6  202F 0004 2390          move.l    4(A7),D0
080015DA  504F      2391          addq.w    #8,A7
080015DC  2800      2392          move.l    D0,D4
080015DE  BA83      2393          cmp.l     D3,D5
080015E0  651A      2394          blo.s     @itoa_convert_1
080015E2  2F03      2395          move.l    D3,-(A7)
080015E4  2F05      2396          move.l    D5,-(A7)
080015E6  2F03      2397          move.l    D3,-(A7)
080015E8  6100 01B6 2398          bsr       ULDIV
080015EC  2217      2399          move.l    (A7),D1
080015EE  504F      2400          addq.w    #8,A7
080015F0  2F01      2401          move.l    D1,-(A7)
080015F2  2F02      2402          move.l    D2,-(A7)
080015F4  61C4      2403          bsr       @itoa_convert
080015F6  DEFC 000C 2404          add.w     #12,A7
080015FA  2400      2405          move.l    D0,D2
                    2406   @itoa_convert_1:
080015FC  0C84 0000 2407          cmp.l     #9,D4
08001600  0009      
08001602  6E0A      2408          bgt.s     @itoa_convert_3
08001604  2004      2409          move.l    D4,D0
08001606  0680 0000 2410          add.l     #48,D0
0800160A  0030      
0800160C  600E      2411          bra.s     @itoa_convert_4
                    2412   @itoa_convert_3:
0800160E  2004      2413          move.l    D4,D0
08001610  0680 0000 2414          add.l     #97,D0
08001614  0061      
08001616  0480 0000 2415          sub.l     #10,D0
0800161A  000A      
                    2416   @itoa_convert_4:
0800161C  2042      2417          move.l    D2,A0
0800161E  1080      2418          move.b    D0,(A0)
08001620  2002      2419          move.l    D2,D0
08001622  5280      2420          addq.l    #1,D0
08001624  4CDF 003C 2421          movem.l   (A7)+,D2/D3/D4/D5
08001628  4E5E      2422          unlk      A6
0800162A  4E75      2423          rts
                    2424   _ltoa:
0800162C  4E56 0000 2425          link      A6,#0
08001630  48E7 3C00 2426          movem.l   D2/D3/D4/D5,-(A7)
08001634  242E 0008 2427          move.l    8(A6),D2
08001638  262E 000C 2428          move.l    12(A6),D3
0800163C  2A2E 0010 2429          move.l    16(A6),D5
08001640  2803      2430          move.l    D3,D4
08001642  0C85 0000 2431          cmp.l     #2,D5
08001646  0002      
08001648  6D08      2432          blt.s     ltoa_3
0800164A  0C85 0000 2433          cmp.l     #36,D5
0800164E  0024      
08001650  6F06      2434          ble.s     ltoa_1
                    2435   ltoa_3:
08001652  2003      2436          move.l    D3,D0
08001654  6000 0052 2437          bra       ltoa_4
                    2438   ltoa_1:
08001658  0C85 0000 2439          cmp.l     #10,D5
0800165C  000A      
0800165E  6600 0032 2440          bne       ltoa_5
08001662  0C82 0000 2441          cmp.l     #0,D2
08001666  0000      
08001668  6C28      2442          bge.s     ltoa_5
0800166A  2002      2443          move.l    D2,D0
0800166C  4480      2444          neg.l     D0
0800166E  2400      2445          move.l    D0,D2
08001670  0C82 0000 2446          cmp.l     #0,D2
08001674  0000      
08001676  6C12      2447          bge.s     ltoa_7
08001678  4879 0800 2448          pea       @itoa_1
0800167C  1A28      
0800167E  2F03      2449          move.l    D3,-(A7)
08001680  6100 010E 2450          bsr       _strcpy
08001684  504F      2451          addq.w    #8,A7
08001686  2003      2452          move.l    D3,D0
08001688  601E      2453          bra.s     ltoa_4
                    2454   ltoa_7:
0800168A  2044      2455          move.l    D4,A0
0800168C  5284      2456          addq.l    #1,D4
0800168E  10BC 002D 2457          move.b    #45,(A0)
                    2458   ltoa_5:
08001692  2F05      2459          move.l    D5,-(A7)
08001694  2F02      2460          move.l    D2,-(A7)
08001696  2F04      2461          move.l    D4,-(A7)
08001698  6100 FF20 2462          bsr       @itoa_convert
0800169C  DEFC 000C 2463          add.w     #12,A7
080016A0  2800      2464          move.l    D0,D4
080016A2  2044      2465          move.l    D4,A0
080016A4  4210      2466          clr.b     (A0)
080016A6  2003      2467          move.l    D3,D0
                    2468   ltoa_4:
080016A8  4CDF 003C 2469          movem.l   (A7)+,D2/D3/D4/D5
080016AC  4E5E      2470          unlk      A6
080016AE  4E75      2471          rts
                    2472   _ultoa:
080016B0  4E56 0000 2473          link      A6,#0
080016B4  48E7 3800 2474          movem.l   D2/D3/D4,-(A7)
080016B8  262E 0010 2475          move.l    16(A6),D3
080016BC  282E 000C 2476          move.l    12(A6),D4
080016C0  2404      2477          move.l    D4,D2
080016C2  0C83 0000 2478          cmp.l     #2,D3
080016C6  0002      
080016C8  6D08      2479          blt.s     ultoa_3
080016CA  0C83 0000 2480          cmp.l     #36,D3
080016CE  0024      
080016D0  6F04      2481          ble.s     ultoa_1
                    2482   ultoa_3:
080016D2  2004      2483          move.l    D4,D0
080016D4  6018      2484          bra.s     ultoa_4
                    2485   ultoa_1:
080016D6  2F03      2486          move.l    D3,-(A7)
080016D8  2F2E 0008 2487          move.l    8(A6),-(A7)
080016DC  2F02      2488          move.l    D2,-(A7)
080016DE  6100 FEDA 2489          bsr       @itoa_convert
080016E2  DEFC 000C 2490          add.w     #12,A7
080016E6  2400      2491          move.l    D0,D2
080016E8  2042      2492          move.l    D2,A0
080016EA  4210      2493          clr.b     (A0)
080016EC  2004      2494          move.l    D4,D0
                    2495   ultoa_4:
080016EE  4CDF 001C 2496          movem.l   (A7)+,D2/D3/D4
080016F2  4E5E      2497          unlk      A6
080016F4  4E75      2498          rts
                    2499   _itoa:
080016F6  4E56 0000 2500          link      A6,#0
080016FA  2F2E 0010 2501          move.l    16(A6),-(A7)
080016FE  2F2E 000C 2502          move.l    12(A6),-(A7)
08001702  2F2E 0008 2503          move.l    8(A6),-(A7)
08001706  6100 FF24 2504          bsr       _ltoa
0800170A  DEFC 000C 2505          add.w     #12,A7
0800170E  4E5E      2506          unlk      A6
08001710  4E75      2507          rts
                    2508   _strlen:
08001712  206F 0004 2509          move.l    (4,A7),A0
08001716  2248      2510          move.l    A0,A1
                    2511   strlen_1:
08001718  4A19      2512          tst.b     (A1)+
0800171A  66FC      2513          bne       strlen_1
0800171C  2009      2514          move.l    A1,D0
0800171E  9088      2515          sub.l     A0,D0
08001720  5380      2516          subq.l    #1,D0
08001722  4E75      2517          rts
                    2518   _putch:
08001724  4E56 0000 2519          link      A6,#0
08001728  48E7 2000 2520          movem.l   D2,-(A7)
0800172C  242E 0008 2521          move.l    8(A6),D2
08001730  0C82 0000 2522          cmp.l     #10,D2
08001734  000A      
08001736  660A      2523          bne.s     putch_1
08001738  4878 000D 2524          pea       13
0800173C  6100 EA00 2525          bsr       __putch
08001740  584F      2526          addq.w    #4,A7
                    2527   putch_1:
08001742  2F02      2528          move.l    D2,-(A7)
08001744  6100 E9F8 2529          bsr       __putch
08001748  584F      2530          addq.w    #4,A7
0800174A  2002      2531          move.l    D2,D0
0800174C  4CDF 0004 2532          movem.l   (A7)+,D2
08001750  4E5E      2533          unlk      A6
08001752  4E75      2534          rts
                    2535   _getch:
08001754  48E7 2000 2536          movem.l   D2,-(A7)
08001758  2439 0800 2537          move.l    __ungetbuf,D2
0800175C  1914      
0800175E  2039 0800 2538          move.l    __ungetbuf,D0
08001762  1914      
08001764  0C80 FFFF 2539          cmp.l     #-1,D0
08001768  FFFF      
0800176A  670C      2540          beq.s     getch_1
0800176C  23FC FFFF 2541          move.l    #-1,__ungetbuf
08001770  FFFF 0800 
08001774  1914      
08001776  6010      2542          bra.s     getch_3
                    2543   getch_1:
08001778  6100 E9F2 2544          bsr       __getch
0800177C  2400      2545          move.l    D0,D2
0800177E  0C80 0000 2546          cmp.l     #13,D0
08001782  000D      
08001784  6602      2547          bne.s     getch_3
08001786  740A      2548          moveq     #10,D2
                    2549   getch_3:
08001788  2002      2550          move.l    D2,D0
0800178A  4CDF 0004 2551          movem.l   (A7)+,D2
0800178E  4E75      2552          rts
                    2553   _strcpy:
08001790  206F 0004 2554          move.l    (4,A7),A0
08001794  226F 0008 2555          move.l    (8,A7),A1
08001798  2008      2556          move.l    A0,D0
                    2557   strcpy_1:
0800179A  10D9      2558          move.b    (A1)+,(A0)+
0800179C  66FC      2559          bne       strcpy_1
0800179E  4E75      2560          rts
                    2561   ULDIV:
080017A0  4E56 0000 2562          link    A6,#0
080017A4  48E7 C000 2563          movem.l D0/D1,-(A7)
080017A8  222E 0008 2564          move.l  8(A6),D1
080017AC  202E 000C 2565          move.l  12(A6),D0
080017B0  6036      2566          bra.s   ldiv_3
                    2567   LDIV:
080017B2  4E56 0000 2568          link    A6,#0
080017B6  48E7 C000 2569          movem.l D0/D1,-(A7)
080017BA  222E 0008 2570          move.l  8(A6),D1
080017BE  202E 000C 2571          move.l  12(A6),D0
080017C2  4A80      2572          tst.l   D0
080017C4  6A0E      2573          bpl.s   ldiv_1
080017C6  4480      2574          neg.l   D0
080017C8  4A81      2575          tst.l   D1
080017CA  6A14      2576          bpl.s   ldiv_2
080017CC  4481      2577          neg.l   D1
080017CE  612A      2578          bsr.s   dodiv
080017D0  4481      2579          neg.l   D1
080017D2  6016      2580          bra.s   ldiv_4
                    2581   ldiv_1:
080017D4  4A81      2582          tst.l   D1
080017D6  6A10      2583          bpl.s   ldiv_3
080017D8  4481      2584          neg.l   D1
080017DA  611E      2585          bsr.s   dodiv
080017DC  4480      2586          neg.l   D0
080017DE  600A      2587          bra.s   ldiv_4
                    2588   ldiv_2:
080017E0  6118      2589          bsr.s   dodiv
080017E2  4480      2590          neg.l   D0
080017E4  4481      2591          neg.l   D1
080017E6  6002      2592          bra.s   ldiv_4
                    2593   ldiv_3:
080017E8  6110      2594          bsr.s   dodiv
                    2595   ldiv_4:
080017EA  2D40 0008 2596          move.l  D0,8(A6)
080017EE  2D41 000C 2597          move.l  D1,12(A6)
080017F2  4CDF 0003 2598          movem.l (A7)+,D0/D1
080017F6  4E5E      2599          unlk    A6
080017F8  4E75      2600          rts
                    2601   dodiv:
080017FA  0C81 0000 2602          cmpi.l  #$FFFF,D1
080017FE  FFFF      
08001800  6236      2603          bhi.s   dodiv_2
08001802  0C80 0000 2604          cmpi.l  #$FFFF,D0
08001806  FFFF      
08001808  6210      2605          bhi.s   dodiv_1
0800180A  80C1      2606          divu    D1,D0
0800180C  2200      2607          move.l  D0,D1
0800180E  4241      2608          clr.w   D1
08001810  4841      2609          swap    D1
08001812  0280 0000 2610          andi.l  #$FFFF,D0
08001816  FFFF      
08001818  4E75      2611          rts
                    2612   dodiv_1:
0800181A  48A7 A000 2613          movem.w D0/D2,-(A7)
0800181E  4240      2614          clr.w   D0
08001820  4840      2615          swap    D0
08001822  80C1      2616          divu    D1,D0
08001824  3400      2617          move.w  D0,D2
08001826  301F      2618          move.w  (A7)+,D0
08001828  80C1      2619          divu    D1,D0
0800182A  4840      2620          swap    D0
0800182C  4281      2621          clr.l   D1
0800182E  3200      2622          move.w  D0,D1
08001830  3002      2623          move.w  D2,D0
08001832  4840      2624          swap    D0
08001834  341F      2625          move.w  (A7)+,D2
08001836  4E75      2626          rts
                    2627   dodiv_2:
08001838  48E7 3800 2628          movem.l D2/D3/D4,-(A7)
0800183C  2401      2629          move.l  D1,D2
0800183E  4242      2630          clr.w   D2
08001840  4842      2631          swap    D2
08001842  5282      2632          addq.l  #1,D2
08001844  2600      2633          move.l  D0,D3
08001846  2801      2634          move.l  D1,D4
08001848  2202      2635          move.l  D2,D1
0800184A  61CE      2636          bsr.s   dodiv_1
0800184C  2204      2637          move.l  D4,D1
0800184E  82C2      2638          divu    D2,D1
08001850  80C1      2639          divu    D1,D0
08001852  0280 0000 2640          andi.l  #$FFFF,D0
08001856  FFFF      
                    2641   dodiv_3:
08001858  2204      2642          move.l  D4,D1
0800185A  2404      2643          move.l  D4,D2
0800185C  4842      2644          swap    D2
0800185E  C2C0      2645          mulu    D0,D1
08001860  C4C0      2646          mulu    D0,D2
08001862  4842      2647          swap    D2
08001864  D282      2648          add.l   D2,D1
08001866  9283      2649          sub.l   D3,D1
08001868  620A      2650          bhi.s   dodiv_4
0800186A  4481      2651          neg.l   D1
0800186C  B881      2652          cmp.l   D1,D4
0800186E  6208      2653          bhi.s   dodiv_5
08001870  5280      2654          addq.l  #1,D0
08001872  60E4      2655          bra.s   dodiv_3
                    2656   dodiv_4:
08001874  5380      2657          subq.l  #1,D0
08001876  60E0      2658          bra.s   dodiv_3
                    2659   dodiv_5:
08001878  4CDF 001C 2660          movem.l (A7)+,D2/D3/D4
0800187C  4E75      2661          rts
                    2662          section   const
0800187E            2663                   align
                    2664   
                    2665   
                    2666   @m68kus~1_1:
0800187E  0D0A 456E 2667          dc.b      13,10,69,110,116,101,114,32,73,110,116,101,103
08001882  7465 7220 
08001886  496E 7465 
0800188A  67        
0800188B  6572 3A20 2668          dc.b      101,114,58,32,0
0800188F  00        
                    2669   @m68kus~1_2:
08001890  2564 00   2670          dc.b      37,100,0
                    2671   @m68kus~1_3:
08001894  596F 7520 2672          dc.b      89,111,117,32,101,110,116,101,114,101,100,32
08001898  656E 7465 
0800189C  7265 6420 
080018A0  2564 00   2673          dc.b      37,100,0
                    2674   @m68kus~1_4:
080018A4  4865 6C6C 2675          dc.b      72,101,108,108,111,32,67,80,69,78,32,52,49,50
080018A8  6F20 4350 
080018AC  454E 2034 
080018B0  3132      
080018B2  2053 7475 2676          dc.b      32,83,116,117,100,101,110,116,0
080018B6  6465 6E74 
080018BA  00        
                    2677   @m68kus~1_5:
080018BC  0D0A 4865 2678          dc.b      13,10,72,101,108,108,111,32,67,80,69,78,32,52
080018C0  6C6C 6F20 
080018C4  4350 454E 
080018C8  2034      
080018CA  3132 2053 2679          dc.b      49,50,32,83,116,117,100,101,110,116,13,10,89
080018CE  7475 6465 
080018D2  6E74 0D0A 
080018D6  59        
080018D7  6F75 7220 2680          dc.b      111,117,114,32,76,69,68,115,32,115,104,111,117
080018DB  4C45 4473 
080018DF  2073 686F 
080018E3  75        
080018E4  6C64 2062 2681          dc.b      108,100,32,98,101,32,70,108,97,115,104,105,110
080018E8  6520 466C 
080018EC  6173 6869 
080018F0  6E        
080018F1  6700      2682          dc.b      103,0
                    2683   @m68kus~1_6:
080018F4  0D0A 596F 2684          dc.b      13,10,89,111,117,114,32,76,67,68,32,115,104
080018F8  7572 204C 
080018FC  4344 2073 
08001900  68        
08001901  6F75 6C64 2685          dc.b      111,117,108,100,32,98,101,32,100,105,115,112
08001905  2062 6520 
08001909  6469 7370 
0800190D  6C61 7969 2686          dc.b      108,97,121,105,110,103,0
08001911  6E67 00   
                    2687          section   data
08001914            2688                   align
                    2689   
                    2690   *********************************************************************************************************************************************************
                    2691   * Section for Initialised Data (in theory should be copied to Ram at startup) but is part of program code as we copy whole program to ram at startup
                    2692   ********************************************************************************************************************************************************
                    2693   
          0800 1914 2694   DataStart       equ       *
08001914            2695   __ungetbuf:     ds.l      1                    ungetbuffer for stdio functions
08001918            2696   __allocp:       ds.l      1                    start of free memory block list
0800191C            2697   __heap:         ds.l      1                    begin of free memory
                    2698   
                    2699   
                    2700   @vsscanf_bufx:
08001920  0800 1A50 2701          dc.l      @vsscanf_buf
                    2702   @vsscanf_1:
08001924  0A00      2703          dc.b      10,0
                    2704   __ctype:
08001926  0040 4040 2705          dc.b      0,64,64,64,64,64,64,64,64,64,80,80,80,80,80
0800192A  4040 4040 
0800192E  4040 5050 
08001932  5050 50   
08001935  4040 4040 2706          dc.b      64,64,64,64,64,64,64,64,64,64,64,64,64,64,64
08001939  4040 4040 
0800193D  4040 4040 
08001941  4040 40   
08001944  4040 40D0 2707          dc.b      64,64,64,208,160,160,160,160,160,160,160,160
08001948  A0A0 A0A0 
0800194C  A0A0 A0A0 
08001950  A0A0 A0A0 2708          dc.b      160,160,160,160,160,160,160,140,140,140,140
08001954  A0A0 A08C 
08001958  8C8C 8C   
0800195B  8C8C 8C8C 2709          dc.b      140,140,140,140,140,140,160,160,160,160,160
0800195F  8C8C A0A0 
08001963  A0A0 A0   
08001966  A0A0 8A8A 2710          dc.b      160,160,138,138,138,138,138,138,130,130,130
0800196A  8A8A 8A8A 
0800196E  8282 82   
08001971  8282 8282 2711          dc.b      130,130,130,130,130,130,130,130,130,130,130
08001975  8282 8282 
08001979  8282 82   
0800197C  8282 8282 2712          dc.b      130,130,130,130,130,130,160,160,160,160,160
08001980  8282 A0A0 
08001984  A0A0 A0   
08001987  A089 8989 2713          dc.b      160,137,137,137,137,137,137,129,129,129,129
0800198B  8989 8981 
0800198F  8181 81   
08001992  8181 8181 2714          dc.b      129,129,129,129,129,129,129,129,129,129,129
08001996  8181 8181 
0800199A  8181 81   
0800199D  8181 8181 2715          dc.b      129,129,129,129,129,160,160,160,160,64,0,0,0
080019A1  81A0 A0A0 
080019A5  A040 0000 
080019A9  00        
080019AA  0000 0000 2716          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
080019AE  0000 0000 
080019B2  0000 0000 
080019B6  0000 0000 
080019BA  0000 0000 
080019BE  0000      
080019C0  0000 0000 2717          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
080019C4  0000 0000 
080019C8  0000 0000 
080019CC  0000 0000 
080019D0  0000 0000 
080019D4  0000      
080019D6  0000 0000 2718          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
080019DA  0000 0000 
080019DE  0000 0000 
080019E2  0000 0000 
080019E6  0000 0000 
080019EA  0000      
080019EC  0000 0000 2719          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
080019F0  0000 0000 
080019F4  0000 0000 
080019F8  0000 0000 
080019FC  0000 0000 
08001A00  0000      
08001A02  0000 0000 2720          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
08001A06  0000 0000 
08001A0A  0000 0000 
08001A0E  0000 0000 
08001A12  0000 0000 
08001A16  0000      
08001A18  0000 0000 2721          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
08001A1C  0000 0000 
08001A20  0000 0000 
08001A24  0000 00   
                    2722   @itoa_1:
08001A28  2D32 3134 2723          dc.b      45,50,49,52,55,52,56,51,54,52,56,0
08001A2C  3734 3833 
08001A30  3634 3800 
                    2724          section   bss
08001A34            2725                   align
                    2726   
          0800 1A34 2727   DataEnd         equ       *                    this label will equate to the address of the last byte of global variable in it
          0000 0120 2728   DataLength      equ       DataEnd-DataStart    length of data needed to copy to Ram on bootup
                    2729   
                    2730   *********************************************************************************************************
                    2731   * Section for uninitialised Data which is set to zero, i.e. we should set this space to zero at starup
                    2732   *********************************************************************************************************
          0800 1A34 2733   BssStart       equ       *
                    2734   
                    2735   _i:
08001A34            2736          ds.b      4
                    2737   _x:
08001A38            2738          ds.b      4
                    2739   _y:
08001A3C            2740          ds.b      4
                    2741   _z:
08001A40            2742          ds.b      4
                    2743   _PortA_Count:
08001A44            2744          ds.b      4
                    2745   _Timer1Count:
08001A48            2746          ds.b      1
                    2747   _Timer2Count:
08001A4A            2748          ds.b      1
                    2749   _Timer3Count:
08001A4C            2750          ds.b      1
                    2751   _Timer4Count:
08001A4E            2752          ds.b      1
                    2753   @vsscanf_buf:
08001A50            2754          ds.b      80
                    2755          section   heap
08001AA0            2756                  align
                    2757   
          0800 1AA0 2758   BssEnd         equ       *
          0000 006C 2759   BssLength      equ       BssEnd-BssStart       length of zeroed data needed to copy to Ram on bootup
                    2760   
                    2761   *********************************************************************************************************
                    2762   * Section for Heap
                    2763   *********************************************************************************************************
                    2764   
          0800 1AA0 2765   heap           equ       *
08001AA0            2766                  align
          0800 0000

Assembly errors: 0
